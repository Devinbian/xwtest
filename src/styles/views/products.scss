@use 'sass:color';
@use '../variables' as vars;

	.products-page {
	  display: grid;
	  grid-template-columns: 320px 1fr;
	  gap: var(--space-4);
	  padding: var(--space-4);
	  min-height: 100vh;
	  background: #f8f8f8;

  @media (max-width: 768px) {
    --page-pad: 1rem;
    display: block;
    padding: var(--page-pad);
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
}

	.categories-menu {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
	  padding: var(--space-3);
	  position: sticky;
    top: calc(var(--header-offset) + var(--space-3));
    height: calc(100dvh - var(--header-offset) - var(--space-4));
    height: calc(100vh - var(--header-offset) - var(--space-4));
    max-height: calc(100dvh - var(--header-offset) - var(--space-4));
    max-height: calc(100vh - var(--header-offset) - var(--space-4));
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;

    &::-webkit-scrollbar {
      width: 0;
      height: 0;
    }

    .filter-content {
      min-height: 100%;
    }

  @media (max-width: 768px) {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: 100vh; // 全屏高度
    margin: 0;
    padding: 0;
    background: transparent; // 背景透明
    pointer-events: none; // 默认不接受点击事件
    z-index: 999;

    // 筛选面板内容
	    .filter-content {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 56px; // 预留筛选按钮的高度
      height: 85vh;
      background: white;
      border-radius: 20px 20px 0 0;
      transform: translateY(100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	      padding: var(--space-2);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      pointer-events: auto;
    }

    // 筛选按钮固定在底部
	    .mobile-filter-header {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      height: 56px;
      background: white;
      border-top: 1px solid rgba(0, 0, 0, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
	      padding: 0 var(--space-2);
      padding-bottom: env(safe-area-inset-bottom);
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      pointer-events: auto;
      z-index: 1000;

	      h3 {
	        margin: 0;
	        font-size: var(--text-lg);
	        font-weight: 500;
	      }

		      .close-filter-btn {
		        position: absolute;
		        right: var(--space-2);
		        padding: var(--space-1);
		        color: #666;
		      }
	    }

    // 显示状态
    &.show {
      pointer-events: auto;

      .filter-content {
        transform: translateY(0);
      }
    }
  }

	  .filter-status {
	    margin-bottom: var(--space-3);
	    padding: var(--space-2);
	    background: rgba(vars.$primary-green, 0.05);
	    border-radius: 8px;
	    display: flex;
    align-items: center;
    justify-content: space-between;

	    .status-text {
	      color: vars.$primary-green;
	      font-weight: 500;
	      font-size: var(--text-sm);
	    }

		    .clear-all-btn {
	      padding: var(--space-1) var(--space-2);
	      background: white;
	      border: 1px solid rgba(vars.$primary-green, 0.2);
	      border-radius: 6px;
	      color: vars.$primary-green;
	      font-size: var(--text-sm);
	      display: flex;
	      align-items: center;
	      gap: var(--space-1);
	      cursor: pointer;
		      transition: transform 0.2s ease, opacity 0.2s ease;

      i {
        font-size: 0.8rem;
      }

	      &:hover {
	        background: vars.$primary-green;
	        color: white;
	        transform: translateY(-1px);
	      }
	    }
  }

	  .product-type-selector {
	    display: flex;
	    gap: 8px;
      padding: 6px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.04);
      border: 1px solid rgba(15, 23, 42, 0.08);

		    .type-btn {
	      flex: 1;
	      padding: 10px 12px;
	      border: 1px solid transparent;
	      border-radius: 999px;
	      background: transparent;
	      color: rgba(15, 23, 42, 0.66);
	      font-size: 0.9rem;
        font-weight: 750;
        line-height: 1.1;
        white-space: nowrap;
	      cursor: pointer;
		      transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;

	      &:hover {
	        background: rgba(255, 255, 255, 0.8);
	        color: vars.$primary-black;
	      }

      &.active {
        background: vars.$primary-green;
        border-color: vars.$primary-green;
        color: white;
      }
    }
  }

    .filters-sticky {
      position: sticky;
      top: 0;
      background: white;
      padding-top: 10px;
      padding-bottom: 12px;
      z-index: 5;
      border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      margin-bottom: 12px;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.04);
    }

    .filters-toolbar {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toolbar-top {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: var(--space-2);
    }

    .toolbar-top .product-type-selector {
      flex: 1;
      min-width: 0;
    }

    .brand-quick-pop {
      position: relative;
      flex: 0 0 auto;
    }

    .brand-quick-panel {
      margin-top: 10px;
      width: 100%;
      box-sizing: border-box;
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.96);
      border: 1px solid rgba(15, 23, 42, 0.10);
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.10);
      padding: 10px;
      z-index: 6;
    }

    .brand-quick-input {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(15, 23, 42, 0.10);
      background: rgba(15, 23, 42, 0.03);
      transition: border-color 0.2s ease, background 0.2s ease;

      &:focus-within {
        border-color: rgba(vars.$primary-green, 0.45);
        background: rgba(vars.$primary-green, 0.06);
      }

      i {
        color: rgba(15, 23, 42, 0.55);
        font-size: 0.95rem;
      }

      input {
        flex: 1;
        border: none;
        outline: none;
        background: transparent;
        font-size: 0.92rem;
        color: vars.$primary-black;
        min-width: 0;

        &::placeholder {
          color: rgba(15, 23, 42, 0.45);
        }
      }

      .brand-quick-clear {
        border: none;
        background: transparent;
        color: rgba(15, 23, 42, 0.55);
        cursor: pointer;
        padding: 2px 6px;
        border-radius: 10px;

        &:hover {
          background: rgba(15, 23, 42, 0.06);
          color: rgba(15, 23, 42, 0.72);
        }
      }
    }

    .brand-quick-suggest {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      max-height: 260px;
      overflow-y: auto;
      overscroll-behavior: contain;
      scrollbar-width: none;

      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }

      .suggest-item {
        width: 100%;
        border: none;
        background: transparent;
        text-align: left;
        cursor: pointer;
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: var(--space-2);
        padding: 10px 12px;
        border-radius: 12px;
        transition: background 0.2s ease, transform 0.2s ease;

        &:hover {
          background: rgba(vars.$primary-green, 0.08);
          transform: translateY(-1px);
        }

        .suggest-brand {
          font-weight: 650;
          color: vars.$primary-black;
          letter-spacing: 0.2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .suggest-scope {
          font-size: 0.82rem;
          color: rgba(15, 23, 42, 0.56);
          flex: 0 0 auto;
          white-space: nowrap;
        }
      }
    }

    .brand-quick-empty {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.03);
      border: 1px dashed rgba(15, 23, 42, 0.14);
      color: rgba(15, 23, 42, 0.55);
      font-size: 0.78rem;
      line-height: 1.3;
      letter-spacing: 0.1px;
    }

    .facet-actions {
      display: flex;
      gap: 8px;
      margin-bottom: 0;
    }

    .facet-icon {
      width: 40px;
      height: 40px;
      border: 1px solid rgba(15, 23, 42, 0.10);
      background: rgba(255, 255, 255, 0.8);
      border-radius: 14px;
      padding: 0;
      display: grid;
      place-items: center;
      font-size: 1rem;
      font-weight: 700;
      color: rgba(15, 23, 42, 0.72);
      cursor: pointer;
      transition: transform 0.2s ease, border-color 0.2s ease, background 0.2s ease, color 0.2s ease;

      &:hover {
        transform: translateY(-1px);
        border-color: rgba(vars.$primary-green, 0.26);
        background: rgba(vars.$primary-green, 0.06);
        color: vars.$primary-black;
      }

      &.active {
        background: rgba(vars.$primary-green, 0.14);
        border-color: rgba(vars.$primary-green, 0.35);
        color: vars.$primary-black;
      }
    }

    .sr-only {
      position: absolute !important;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .facets {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-right: 2px;
      padding-bottom: var(--space-2);
    }

	    .facet {
	      border-radius: 14px;
	      border: 1px solid rgba(15, 23, 42, 0.10);
	      background: rgba(255, 255, 255, 0.96);
	      overflow: hidden;
	      transition: border-color 0.18s ease, box-shadow 0.18s ease;

	      &:hover {
	        border-color: rgba(vars.$primary-green, 0.18);
	        box-shadow: 0 12px 26px rgba(15, 23, 42, 0.08);
	      }

	      &.selected {
	        border-color: rgba(vars.$primary-green, 0.30);
	        box-shadow: 0 14px 30px rgba(vars.$primary-green, 0.07);
	      }

	      .facet-head {
	        display: grid;
	        grid-template-columns: 32px 1fr 32px;
	        align-items: center;
	        gap: 10px;
	        padding: 10px 12px;
	      }

	      .facet-select {
	        flex: 0 0 auto;
	        width: 32px;
	        height: 32px;
	        border-radius: 14px;
	        border: 1px solid rgba(15, 23, 42, 0.12);
	        background: rgba(15, 23, 42, 0.03);
        display: grid;
        place-items: center;
        cursor: pointer;
        color: rgba(15, 23, 42, 0.55);
        transition: transform 0.18s ease, background 0.18s ease, border-color 0.18s ease, color 0.18s ease;

        &:hover {
          transform: translateY(-1px);
          border-color: rgba(vars.$primary-green, 0.22);
          background: rgba(vars.$primary-green, 0.10);
          color: vars.$primary-black;
        }

        &.active {
          background: rgba(vars.$primary-green, 0.16);
          border-color: rgba(vars.$primary-green, 0.35);
          color: rgba(vars.$primary-green, 0.95);
        }

        i {
          font-size: 0.92rem;
        }
      }

	      .facet-toggle {
	        flex: 1;
	        border: none;
	        background: transparent;
	        cursor: pointer;
	        display: flex;
	        align-items: center;
	        gap: var(--space-2);
	        min-width: 0;
	        min-height: 32px;
	        padding: 0 10px;
	        text-align: left;
	        border-radius: 12px;
	        transition: background 0.18s ease;
          outline: none;
          box-shadow: none;
          -webkit-tap-highlight-color: transparent;

	        &:hover {
	          background: rgba(vars.$primary-green, 0.06);
	        }

        .facet-title {
          font-weight: 800;
          color: vars.$primary-black;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          letter-spacing: 0.15px;
          line-height: 1.15;
        }

        .facet-badge {
          flex: 0 0 auto;
          font-size: 0.78rem;
          font-weight: 700;
          padding: 3px 8px;
          border-radius: 999px;
          background: rgba(vars.$primary-green, 0.14);
          color: vars.$primary-black;
          border: 1px solid rgba(vars.$primary-green, 0.22);
        }

        i {
          display: none;
        }
      }

	      .facet-clear {
	        flex: 0 0 auto;
	        width: 32px;
	        height: 32px;
	        border-radius: 12px;
	        border: 1px solid rgba(15, 23, 42, 0.10);
	        background: rgba(15, 23, 42, 0.03);
        display: grid;
        place-items: center;
        cursor: pointer;
        color: rgba(15, 23, 42, 0.55);
        transition: transform 0.2s ease, background 0.2s ease, border-color 0.2s ease, color 0.2s ease;

        &:hover {
          transform: translateY(-1px);
          border-color: rgba(vars.$primary-green, 0.22);
          background: rgba(vars.$primary-green, 0.06);
          color: rgba(15, 23, 42, 0.78);
        }
      }

	      .facet-body {
	        padding: 10px 12px 12px;
	        border-top: 1px solid rgba(15, 23, 42, 0.06);
	        background: rgba(255, 255, 255, 0.70);
	      }

	      .brand-chips {
	        display: grid;
	        grid-template-columns: repeat(2, minmax(0, 1fr));
	        gap: 8px;
	      }

	      .brand-chip {
	        border: 1px solid rgba(15, 23, 42, 0.10);
	        background: rgba(255, 255, 255, 0.92);
	        border-radius: 10px;
	        padding: 8px 10px;
	        font-size: 0.82rem;
	        line-height: 1.15;
	        font-weight: 600;
	        color: rgba(15, 23, 42, 0.78);
	        cursor: pointer;
	        text-align: center;
	        min-width: 0;
	        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        transition: transform 0.2s ease, border-color 0.2s ease, background 0.2s ease;

        &:hover {
          transform: translateY(-1px);
          border-color: rgba(vars.$primary-green, 0.28);
          background: rgba(vars.$primary-green, 0.06);
          color: vars.$primary-black;
        }

	        &.active {
	          background: rgba(vars.$primary-green, 0.16);
	          border-color: rgba(vars.$primary-green, 0.36);
	          color: vars.$primary-black;
	          position: relative;
	          padding-right: 26px;

	          &::after {
	            content: '✓';
	            position: absolute;
	            right: 9px;
	            top: 50%;
	            transform: translateY(-50%);
	            font-weight: 900;
            color: rgba(vars.$primary-green, 0.95);
          }
        }
      }

      .facet-more {
        width: 100%;
        border: none;
        background: transparent;
        color: rgba(15, 23, 42, 0.60);
        cursor: pointer;
        margin-top: var(--space-2);
        padding: 8px 10px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: background 0.2s ease, transform 0.2s ease, color 0.2s ease;

        &:hover {
          background: rgba(15, 23, 42, 0.04);
          color: rgba(15, 23, 42, 0.78);
          transform: translateY(-1px);
        }

        i {
          font-size: 0.9rem;
        }
      }
    }
}

					.products-content {
					  .products-topbar {
            position: sticky;
            top: calc(var(--header-offset) + var(--space-3));
            z-index: 4;
            margin-bottom: var(--space-4);
            padding: var(--space-3);
            background: rgba(255, 255, 255, 0.96);
            border: 1px solid rgba(15, 23, 42, 0.08);
            border-radius: 16px;
            box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
	            backdrop-filter: blur(10px);
	            transition: padding 0.22s ease, box-shadow 0.22s ease, background 0.22s ease, border-color 0.22s ease;

	            .topbar-main {
              display: grid;
              grid-template-columns: auto 1fr;
              align-items: center;
              gap: var(--space-3);
            }

	            .page-title {
              font-size: var(--text-xl);
              color: vars.$primary-black;
              margin: 0;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 36vw;
            }

	            .topbar-actions {
              display: flex;
              align-items: center;
              justify-content: flex-end;
              gap: var(--space-2);
              min-width: 0;
            }

          .hot-only-toggle {
            height: 44px;
            padding: 0 14px;
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.10);
            background: rgba(255, 255, 255, 0.88);
            backdrop-filter: blur(10px);
            color: vars.$primary-black;
            font-size: var(--text-sm);
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.18s ease, opacity 0.18s ease;
            min-width: 44px;

            i {
              color: vars.$primary-green;
            }

            &:hover {
              transform: translateY(-1px);
            }

            &:active {
              transform: translateY(0);
            }

            &:focus-visible {
              outline: 3px solid rgba(245, 158, 11, 0.28);
              outline-offset: 3px;
            }
          }

          .hot-only-toggle[aria-pressed='true'] {
            border-color: rgba(vars.$primary-green, 0.42);
            background: rgba(vars.$primary-green, 0.12);
          }

          @media (max-width: 420px) {
            .hot-only-toggle {
              padding: 0 12px;
            }
          }

          .mobile-open-filter {
            height: 44px;
            padding: 0 12px;
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.10);
            background: rgba(255, 255, 255, 0.88);
            backdrop-filter: blur(10px);
            color: vars.$primary-black;
            font-size: var(--text-sm);
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.18s ease, opacity 0.18s ease;
            position: relative;
            -webkit-tap-highlight-color: transparent;
            min-width: 44px;

            i {
              color: rgba(15, 23, 42, 0.72);
            }

            .count-badge {
              min-width: 22px;
              height: 22px;
              padding: 0 6px;
              border-radius: 999px;
              background: rgba(vars.$primary-green, 0.92);
              color: #fff;
              display: inline-flex;
              align-items: center;
              justify-content: center;
              font-size: 0.78rem;
              font-weight: 800;
              line-height: 1;
            }

            &:hover {
              transform: translateY(-1px);
            }

            &:active {
              transform: translateY(0);
            }

            &:focus-visible {
              outline: 3px solid rgba(vars.$primary-green, 0.28);
              outline-offset: 3px;
            }

            @media (max-width: 420px) {
              .btn-text {
                display: none;
              }
            }
          }

          .hot-editor-gate {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            flex: 0 0 auto;
          }

          .hot-admin-enter,
          .hot-admin-actions,
          .hot-admin-done,
          .hot-admin-item,
          .hot-editor-toggle,
          .hot-editor-restore,
          .hot-editor-clear {
            height: 44px;
            padding: 0 14px;
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.10);
            background: rgba(255, 255, 255, 0.88);
            backdrop-filter: blur(10px);
            color: vars.$primary-black;
            font-size: var(--text-sm);
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.18s ease, opacity 0.18s ease;

            &:hover {
              transform: translateY(-1px);
            }

            &:active {
              transform: translateY(0);
            }

            &:disabled {
              opacity: 0.55;
              cursor: not-allowed;
            }

            &:focus-visible {
              outline: 3px solid rgba(vars.$primary-green, 0.32);
              outline-offset: 3px;
            }
          }

          .hot-editor-toggle[aria-pressed='true'] {
            border-color: rgba(vars.$primary-green, 0.45);
            background: rgba(vars.$primary-green, 0.12);
          }

          .hot-admin-enter {
            border-color: rgba(vars.$primary-green, 0.48);
            background: linear-gradient(
              180deg,
              rgba(vars.$primary-green, 0.92),
              rgba(vars.$primary-green, 0.78)
            );
            color: white;
            font-weight: 800;
            box-shadow: 0 10px 24px rgba(vars.$primary-green, 0.18);

            i {
              font-size: 0.9rem;
              opacity: 0.95;
            }
          }

          .hot-admin-editing {
            display: inline-flex;
            align-items: center;
            gap: 8px;
          }

          .hot-admin-menu {
            position: relative;
          }

          .hot-admin-actions {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-weight: 750;
            background: rgba(255, 255, 255, 0.92);

            i {
              font-size: 0.85rem;
              opacity: 0.75;
            }
          }

          .hot-admin-menu[open] > .hot-admin-actions {
            border-color: rgba(vars.$primary-green, 0.45);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.10);
          }

          .hot-admin-popover {
            position: absolute;
            right: 0;
            top: calc(100% + 10px);
            min-width: 180px;
            padding: 8px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.98);
            border: 1px solid rgba(0, 0, 0, 0.10);
            box-shadow: 0 18px 50px rgba(0, 0, 0, 0.18);
            backdrop-filter: blur(14px);
            z-index: 30;
            display: grid;
            gap: 6px;
          }

          .hot-admin-actions::-webkit-details-marker {
            display: none;
          }

          details.hot-admin-menu > summary {
            list-style: none;
          }

          .hot-admin-item {
            height: 40px;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            background: rgba(0, 0, 0, 0.03);
            font-weight: 750;
            text-align: left;
            padding: 0 12px;
          }

          .hot-admin-item:hover {
            background: rgba(vars.$primary-green, 0.10);
            border-color: rgba(vars.$primary-green, 0.28);
          }

          .hot-admin-item.danger:hover {
            background: rgba(220, 38, 38, 0.10);
            border-color: rgba(220, 38, 38, 0.22);
          }

          .hot-admin-done {
            font-weight: 800;
            border-color: rgba(0, 0, 0, 0.10);
            background: rgba(0, 0, 0, 0.04);
            display: inline-flex;
            align-items: center;
            gap: 10px;
          }

				    .search-box {
			      position: relative;
			      width: min(680px, 100%);
			      flex: 1 1 420px;
			      background: rgba(15, 23, 42, 0.03);
			      border: none;
			      border-radius: 999px;
			      box-shadow: none;
			      display: flex;
			      align-items: center;
            gap: 8px;
			      padding: 10px 12px;
				      transition: transform 0.22s ease, opacity 0.22s ease;

			      &:focus-within {
			        background: rgba(vars.$primary-green, 0.06);
              box-shadow: 0 0 0 3px rgba(vars.$primary-green, 0.18);
			      }

			      .search-icon {
			        color: #888;
			        margin-left: 2px;
			        margin-right: 0;
			        flex: 0 0 auto;
			      }

				      .search-input {
				        flex: 1 1 auto;
				        border: none;
				        outline: none;
				        background: transparent;
				        font-size: var(--text-sm);
				        color: vars.$primary-black;
				        min-width: 0;
				        -webkit-appearance: none;
				        appearance: none;

				        &::placeholder {
				          color: #9aa0a6;
				        }

				        &::-webkit-search-cancel-button,
				        &::-webkit-search-decoration {
				          -webkit-appearance: none;
				          appearance: none;
				          display: none;
				        }

				        &::-ms-clear {
				          display: none;
				        }
				      }

              .hot-pill {
                flex: 0 0 auto;
                height: 32px;
                padding: 0 10px;
                border-radius: 999px;
                border: none;
                background: rgba(15, 23, 42, 0.03);
                color: rgba(15, 23, 42, 0.78);
                font-size: 0.82rem;
                font-weight: 750;
                cursor: pointer;
                display: inline-flex;
                align-items: center;
                gap: 6px;
                transition: transform 0.18s ease, background 0.18s ease, border-color 0.18s ease;
                -webkit-tap-highlight-color: transparent;

                i {
                  color: rgba(vars.$primary-green, 0.92);
                }

                &:hover {
                  transform: translateY(-1px);
                  background: rgba(vars.$primary-green, 0.08);
                }

                &:active {
                  transform: translateY(0);
                }

                &[aria-pressed='true'] {
                  background: rgba(vars.$primary-green, 0.14);
                  color: vars.$primary-black;
                }

                @media (max-width: 420px) {
                  .pill-text {
                    display: none;
                  }
                }
              }

              .filter-pill {
                position: relative;
                flex: 0 0 auto;
                width: 32px;
                height: 32px;
                border-radius: 999px;
                border: none;
                background: rgba(15, 23, 42, 0.03);
                color: rgba(15, 23, 42, 0.78);
                cursor: pointer;
                display: grid;
                place-items: center;
                transition: transform 0.18s ease, background 0.18s ease, border-color 0.18s ease;
                -webkit-tap-highlight-color: transparent;

                &:hover {
                  transform: translateY(-1px);
                  background: rgba(vars.$primary-green, 0.06);
                }

                &:active {
                  transform: translateY(0);
                }

                i {
                  color: rgba(15, 23, 42, 0.72);
                  font-size: 0.95rem;
                }

                .pill-count {
                  position: absolute;
                  top: -6px;
                  right: -6px;
                  min-width: 18px;
                  height: 18px;
                  padding: 0 5px;
                  border-radius: 999px;
                  background: rgba(vars.$primary-green, 0.95);
                  color: #fff;
                  display: inline-flex;
                  align-items: center;
                  justify-content: center;
                  font-size: 0.72rem;
                  font-weight: 900;
                  line-height: 1;
                  box-shadow: 0 8px 18px rgba(vars.$primary-green, 0.22);
                }
              }

				      .clear-search {
			        flex: 0 0 auto;
			        width: 32px;
			        height: 32px;
			        border-radius: 999px;
			        border: none;
			        background: rgba(0, 0, 0, 0.06);
			        color: #666;
			        cursor: pointer;
			        display: inline-flex;
			        align-items: center;
			        justify-content: center;
				        transition: transform 0.18s ease, opacity 0.18s ease;

			        &:hover {
			          background: rgba(0, 0, 0, 0.1);
			          transform: translateY(-1px);
				    }
				  }

						}
					  }

	          .topbar-chips {
	            margin-top: 12px;
	            display: flex;
	            align-items: flex-start;
	            gap: var(--space-2);
	            transition: margin-top 0.22s ease, opacity 0.22s ease;
	          }

          .chips {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
          }

          .chips.collapsed {
            flex-wrap: nowrap;
            overflow: hidden;
          }

	          .chip {
	            display: inline-flex;
	            align-items: center;
	            gap: 6px;
	            height: 26px;
	            padding: 0 10px;
	            border-radius: 999px;
	            border: 1px solid rgba(vars.$primary-green, 0.16);
	            background: rgba(vars.$primary-green, 0.06);
	            color: vars.$primary-green;
	            font-size: var(--text-xs);
	            line-height: 1;
	            cursor: pointer;
	            white-space: nowrap;
	            transition: transform 0.18s ease, opacity 0.18s ease;

            &:hover {
              transform: translateY(-1px);
            }

            &:active {
              transform: translateY(0) scale(0.98);
            }

            .chip-label {
              max-width: min(520px, 48vw);
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }

            i {
              font-size: 0.75rem;
            }
          }

		          .chips-actions {
	            flex: 0 0 auto;
	            display: inline-flex;
	            align-items: center;
	            gap: 8px;
	            padding-top: 0;
	          }

	          .chips-more {
	            height: 26px;
	            padding: 0 10px;
	            border-radius: 999px;
	            border: 1px solid rgba(15, 23, 42, 0.10);
	            background: rgba(15, 23, 42, 0.03);
	            color: rgba(15, 23, 42, 0.78);
	            font-size: var(--text-xs);
	            font-weight: 750;
	            cursor: pointer;
	          }

		          .chips-clear-icon {
	            width: 26px;
	            height: 26px;
	            border-radius: 999px;
	            border: 1px solid rgba(vars.$primary-green, 0.16);
	            background: rgba(vars.$primary-green, 0.06);
	            color: rgba(15, 23, 42, 0.68);
	            cursor: pointer;
	            display: grid;
	            place-items: center;

	            i {
	              font-size: 0.8rem;
	            }

	            &:hover {
	              background: rgba(vars.$primary-green, 0.10);
	              border-color: rgba(vars.$primary-green, 0.22);
		          }

              .chips-compact-count {
                height: 26px;
                padding: 0 10px;
                border-radius: 999px;
                border: 1px solid rgba(15, 23, 42, 0.10);
                background: rgba(15, 23, 42, 0.03);
                color: rgba(15, 23, 42, 0.66);
                font-size: var(--text-xs);
                font-weight: 750;
                display: inline-flex;
                align-items: center;
                white-space: nowrap;
              }

              &.compact {
                margin-top: 8px;
                align-items: center;

                .chips-actions {
                  gap: 10px;
                }
              }
	          }

            &.compact {
              padding: var(--space-2);
              box-shadow: 0 10px 22px rgba(15, 23, 42, 0.08);

              .topbar-main {
                grid-template-columns: 1fr;
                gap: var(--space-2);
              }

              .page-title {
                display: none;
              }

              .topbar-actions {
                justify-content: flex-start;
              }

              .search-box {
                padding: 8px 10px;
              }

              .hot-pill,
              .filter-pill,
              .clear-search {
                height: 30px;
              }

              .filter-pill,
              .clear-search {
                width: 30px;
              }
            }
        }

			  .empty-products {
			    display: grid;
			    place-items: center;
			    padding: var(--space-6) var(--space-3);
		    margin-top: var(--space-3);
		    min-height: min(520px, 55vh);

		    .empty-card {
		      width: min(720px, 100%);
		      background: white;
		      border-radius: 18px;
		      border: 1px solid rgba(0, 0, 0, 0.06);
		      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
		      padding: clamp(22px, 3vw, 44px);
		      text-align: center;
		      position: relative;
		      overflow: hidden;

		      &::before {
		        content: '';
		        position: absolute;
		        top: -140px;
		        right: -140px;
		        width: 320px;
		        height: 320px;
		        background: radial-gradient(
		          circle at 35% 35%,
		          rgba(vars.$primary-green, 0.18),
		          rgba(vars.$primary-green, 0) 60%
		        );
		        pointer-events: none;
		      }
		    }

		    .empty-icon {
		      width: 72px;
		      height: 72px;
		      border-radius: 999px;
		      margin: 0 auto var(--space-3);
		      display: flex;
		      align-items: center;
		      justify-content: center;
		      color: vars.$primary-green;
		      background: linear-gradient(
		        180deg,
		        rgba(vars.$primary-green, 0.14),
		        rgba(vars.$primary-green, 0.06)
		      );
		      border: 1px solid rgba(vars.$primary-green, 0.22);
		      box-shadow: 0 10px 24px rgba(vars.$primary-green, 0.14);

		      i {
		        font-size: 1.35rem;
		      }
		    }

		    h3 {
		      margin: 0 0 var(--space-2);
		      font-size: var(--text-xl);
		      color: vars.$primary-black;
		      letter-spacing: 0.2px;
		    }

			    .empty-desc {
		      margin: 0 auto;
		      max-width: 520px;
		      font-size: var(--text-md);
		      line-height: 1.7;
			      color: #666;
			    }

			    .active-tags {
			      display: flex;
			      flex-wrap: wrap;
			      gap: 8px;
			      justify-content: center;
			      margin-top: var(--space-3);
			      margin-bottom: var(--space-3);

			      .tag-chip {
			        display: inline-flex;
			        align-items: center;
			        gap: 6px;
			        padding: 4px 10px;
			        border-radius: 999px;
			        font-size: var(--text-xs);
			        color: vars.$primary-green;
			        background: rgba(vars.$primary-green, 0.06);
			        border: 1px solid rgba(vars.$primary-green, 0.16);
			        white-space: nowrap;
			        cursor: pointer;
			        transition: transform 0.18s ease, opacity 0.18s ease;

			        &:hover {
			          transform: translateY(-1px);
			        }

			        &:active {
			          transform: translateY(0) scale(0.98);
			        }

			        i {
			          font-size: 0.75rem;
			        }
			      }
			    }

			    .empty-actions {
			      display: flex;
			      gap: var(--space-2);
		      justify-content: center;
		      margin-top: var(--space-3);
		      flex-wrap: wrap;
		    }

			    .empty-btn {
		      display: inline-flex;
		      align-items: center;
		      justify-content: center;
		      gap: var(--space-1);
		      padding: 10px 16px;
		      border-radius: 12px;
		      font-size: var(--text-sm);
		      font-weight: 600;
		      cursor: pointer;
			      transition: transform 0.22s ease, opacity 0.22s ease;
		      border: 1px solid transparent;
		      user-select: none;

		      i {
		        font-size: 0.95rem;
		      }

		      &.primary {
		        background: vars.$primary-green;
		        color: white;
		        box-shadow: 0 14px 28px rgba(vars.$primary-green, 0.22);

		        &:hover {
		          background: color.adjust(vars.$primary-green, $lightness: -4%);
		          transform: translateY(-1px);
		        }
		      }

		      &.secondary {
		        background: white;
		        color: vars.$primary-green;
		        border-color: rgba(vars.$primary-green, 0.32);

		        &:hover {
		          background: rgba(vars.$primary-green, 0.06);
		          transform: translateY(-1px);
		        }
		      }

		      &:active {
		        transform: translateY(0);
		      }
		    }

		    @media (max-width: 768px) {
		      padding: var(--space-5) var(--space-2);
		      min-height: min(480px, 55vh);

		      .empty-actions {
		        width: 100%;
		        gap: var(--space-2);
		      }

		      .empty-btn {
		        flex: 1 1 0;
		        min-width: 44%;
		      }
		    }
		  }

			  .products-grid {
			    display: grid;
			    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			    gap: var(--space-4);
			    margin-top: var(--space-4);

			    .product-card {
		      background: white;
		      border-radius: 16px;
		      overflow: hidden;
		      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
			      position: relative;
			      cursor: default;
			      transition: transform 0.25s ease, opacity 0.25s ease;

      .image-wrapper {
        position: relative;
        width: 100%;
        height: 240px;
        overflow: hidden;
        background: #f0f0f0;

        .hot-tag {
          position: absolute;
          top: 12px;
          left: 12px;
          z-index: 3;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 8px 10px;
          border-radius: 999px;
          background: rgba(255, 255, 255, 0.92);
          border: 1px solid rgba(0, 0, 0, 0.10);
          color: vars.$primary-black;
          font-size: 0.82rem;
          font-weight: 800;
          letter-spacing: 0.2px;
          backdrop-filter: blur(10px);
          box-shadow: 0 10px 28px rgba(0, 0, 0, 0.12);

          i {
            font-size: 0.9rem;
            color: #ff7a00;
          }

          .hot-rank {
            color: vars.$primary-black;
            background: rgba(vars.$primary-green, 0.12);
            border: 1px solid rgba(vars.$primary-green, 0.18);
            padding: 2px 8px;
            border-radius: 999px;
            font-weight: 800;
          }
        }

        .hot-editor-card {
          position: absolute;
          left: 12px;
          bottom: 12px;
          z-index: 3;
          display: inline-flex;
          align-items: center;
          gap: 10px;
          padding: 10px 12px;
          border-radius: 14px;
          background: rgba(255, 255, 255, 0.92);
          border: 1px solid rgba(0, 0, 0, 0.10);
          color: vars.$primary-black;
          backdrop-filter: blur(10px);
          box-shadow: 0 14px 40px rgba(0, 0, 0, 0.18);
        }

        .hot-editor-switch {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          user-select: none;
          position: relative;

          input {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
          }

          .switch-ui {
            width: 34px;
            height: 20px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.12);
            position: relative;
            flex: 0 0 auto;
            transition: background 0.18s ease;

            &::after {
              content: '';
              position: absolute;
              top: 2px;
              left: 2px;
              width: 16px;
              height: 16px;
              border-radius: 999px;
              background: white;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);
              transition: transform 0.18s ease;
            }
          }

          input:checked + .switch-ui {
            background: rgba(vars.$primary-green, 0.55);
          }

          input:checked + .switch-ui::after {
            transform: translateX(14px);
          }

          .switch-label {
            font-size: 0.85rem;
            font-weight: 800;
            letter-spacing: 0.2px;
          }
        }

        .hot-rank-input {
          width: 56px;
          height: 32px;
          border-radius: 10px;
          border: 1px solid rgba(0, 0, 0, 0.12);
          background: rgba(255, 255, 255, 0.8);
          color: vars.$primary-black;
          padding: 0 10px;
          font-size: 0.85rem;
          font-weight: 700;

          &::placeholder {
            color: rgba(0, 0, 0, 0.45);
            font-weight: 600;
          }

          &:disabled {
            opacity: 0.45;
          }

          &:focus-visible {
            outline: 3px solid rgba(vars.$primary-green, 0.35);
            outline-offset: 2px;
          }
        }

        .lazy-picture {
          width: 100%;
          height: 100%;

          :deep(.main-image) {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
          }
        }

        &:hover {
          :deep(.main-image) {
            transform: scale(1.08);
          }
        }
      }

      .condition-tag {
        position: absolute;
        top: 5px;
        right: -42px;
        padding: 0.4rem 3rem;
        font-size: 0.85rem;
        font-weight: 500;
        z-index: 2;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transform: rotate(45deg);
        transform-origin: center;
        letter-spacing: 1px;
        min-width: 120px;
        text-align: center;

        &::before {
          content: '';
          position: absolute;
          inset: 1px;
          border: 1px solid rgba(0, 0, 0, 0.05);
          border-radius: inherit;
        }

        &.new {
          background: rgba(vars.$primary-green, 0.95);
          color: white;
        }

        &.used {
          background: rgba(#FF9800, 0.95);
          color: white;
        }

        &.refurbished {
          background: rgba(#2196F3, 0.95);
          color: white;
        }
      }

      &::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        background: linear-gradient(45deg,
            transparent,
            rgba(255, 255, 255, 0.1));
        z-index: 1;
      }

	      .product-info {
	        padding: var(--space-3);
	        border-top: 1px solid rgba(0, 0, 0, 0.04);

		        h3 {
		          font-size: var(--text-lg);
		          margin: 0 0 0.8rem;
		          color: vars.$primary-black;
		          font-weight: 600;
		          line-height: 1.4;
		          white-space: nowrap;
		          overflow: hidden;
		          text-overflow: ellipsis;
		          min-height: calc(1.4em * 1);
		        }

	        p {
	          font-size: 0.95rem;
	          color: #666;
	          margin: 0 0 1.2rem;
	          line-height: 1.6;
	          display: -webkit-box;
	          -webkit-line-clamp: 2;
	          -webkit-box-orient: vertical;
	          overflow: hidden;
	          min-height: calc(1.6em * 2);
	        }

		        .specs-row {
		          display: flex;
		          align-items: center;
		          gap: 8px;
		          margin-bottom: var(--space-2);
		        }

		        .specs-list {
		          display: flex;
		          flex: 1;
		          flex-wrap: nowrap;
		          gap: 6px;
		          overflow: hidden;
		          min-height: 22px;

		          &.expanded {
		            flex-wrap: wrap;
		            overflow: visible;
		          }

			          .spec-tag {
		            flex: 0 0 auto;
		            padding: 4px 10px;
		            background: #f5f5f5;
		            border-radius: 6px;
		            font-size: var(--text-xs);
		            color: #555;
			            transition: transform 0.3s ease, opacity 0.3s ease;
		            white-space: nowrap;

		            &:hover {
		              background: rgba(vars.$primary-green, 0.08);
		              color: vars.$primary-green;
		            }
		          }
		        }

		        .specs-more-btn {
		          flex: 0 0 auto;
		          height: 22px;
		          padding: 0 10px;
		          border-radius: 999px;
		          border: 1px solid rgba(vars.$primary-green, 0.18);
		          background: white;
		          color: vars.$primary-green;
		          font-size: var(--text-xs);
		          cursor: pointer;
		          white-space: nowrap;

		          &:hover {
		            background: rgba(vars.$primary-green, 0.06);
		          }
		        }

	        .consult-hints {
	          display: flex;
	          flex-wrap: nowrap;
	          align-items: center;
	          gap: 6px;
	          margin-bottom: var(--space-2);
	          color: #666;
	          font-size: var(--text-xs);
	          overflow: hidden;
	          min-height: 20px;

	          .hint-label {
	            font-weight: 500;
	            color: vars.$primary-black;
	            flex: 0 0 auto;
	            white-space: nowrap;
	          }

	          .hint-item {
	            flex: 0 0 auto;
	            padding: 1px 8px;
	            border-radius: 999px;
	            background: rgba(vars.$primary-green, 0.06);
	            border: 1px solid rgba(vars.$primary-green, 0.12);
	            color: vars.$primary-green;
	            line-height: 1.35;
	            white-space: nowrap;
	          }

	          .hint-item:nth-child(n + 5) {
	            display: none;
	          }
	        }

			        .product-brand {
		          font-size: var(--text-sm);
		          font-weight: 600;
		          color: vars.$primary-green;
		          display: inline-flex;
		          align-items: center;
		          gap: var(--space-1);
		          padding: 2px 10px;
		          background: rgba(vars.$primary-green, 0.06);
		          border-radius: 6px;
			          transition: transform 0.3s ease, opacity 0.3s ease;
		          white-space: nowrap;

          &:hover {
            background: rgba(vars.$primary-green, 0.1);
            transform: translateY(-1px);
          }

	          &::before {
	            content: '品牌';
	            font-size: var(--text-xs);
	            color: #666;
	            font-weight: normal;
	          }
	        }

		        .card-actions {
		          display: flex;
		          gap: var(--space-2);
		          margin-top: var(--space-2);

		          .view-details-btn,
		          .quote-btn {
	            flex: 1;
		            display: flex;
		            align-items: center;
		            justify-content: center;
		            gap: var(--space-1);
		            padding: 9px 12px;
		            border-radius: 6px;
		            font-weight: 500;
		            font-size: var(--text-sm);
		            min-height: 38px;
			            transition: transform 0.2s ease, opacity 0.2s ease;
			            cursor: pointer;

		            i {
		              font-size: 0.9rem;
		            }
		          }

		          .view-details-btn {
            background: vars.$primary-green;
            color: white;
            text-decoration: none;

		            &:hover {
		              background: color.adjust(vars.$primary-green, $lightness: -5%);
		              transform: translateY(-1px);
		            }
		          }

	          .quote-btn {
            background: white;
            color: vars.$primary-green;
            border: 1px solid vars.$primary-green;

	            &:hover {
	              background: rgba(vars.$primary-green, 0.1);
	              transform: translateY(-1px);
	            }
	          }
        }
      }

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      }
    }
  }

		@media (max-width: 768px) {
		  .products-content {
			    .products-topbar {
	          top: calc(var(--header-offset) + var(--space-2));
	          padding: 10px;

          .topbar-main {
            grid-template-columns: 1fr;
            gap: var(--space-2);
          }

          .page-title {
            display: none;
          }

          .topbar-actions {
            width: 100%;
            justify-content: flex-start;
            flex-wrap: nowrap;
          }

          .search-box {
            width: 100%;
            flex: 1 1 100%;
            order: 0;
          }

	          .topbar-chips {
	            margin-top: 10px;
	          }

	          .chip {
	            height: 24px;
	            padding: 0 9px;
	            font-size: 0.75rem;
	          }

	          .chips-more,
	          .chips-clear-icon {
	            height: 24px;
	          }

	          .chips-clear-icon {
	            width: 24px;
	          }

	          .chips-compact-count {
	            height: 24px;
	            padding: 0 9px;
	            font-size: 0.75rem;
	          }

	          &.compact {
	            padding: 8px;
	          }
	        }
			  }

      .hot-editor-gate {
        order: 2;
        flex: 1 1 100%;
        justify-content: flex-start;
      }

		  .products-grid {
		    grid-template-columns: repeat(2, 1fr);
		    gap: var(--space-2);

    .product-card {
      .image-wrapper {
        height: 200px;

	        img {
	          padding: var(--space-2);
	        }
	      }

	      .product-info {
	        padding: var(--space-3);

	        h3 {
	          font-size: var(--text-lg);
	        }

	        p {
	          font-size: 0.9rem;
	          margin-bottom: var(--space-2);
	        }

	        .specs-list {
	          gap: 0.6rem;
	          margin-bottom: 1.2rem;

	          .spec-tag {
	            padding: 0.4rem 0.8rem;
	            font-size: 0.85rem;
	          }
	        }

	        .specs-more-btn {
	          height: 22px;
	          padding: 0 10px;
	          font-size: 0.75rem;
	        }

		        .product-brand {
		          font-size: 0.9rem;
		          padding: 0.4rem 0.8rem;

	          &::before {
	            font-size: 0.75rem;
	          }
	        }

	        .card-actions {
	          gap: var(--space-1);

	          .view-details-btn,
	          .quote-btn {
	            padding: 8px 10px;
	            min-height: 36px;
	            font-size: var(--text-xs);
	          }
	        }
	      }

		      .condition-tag {
		        top: 5px;
		        right: -42px;
		        padding: 0.4rem 3rem;
		        font-size: 0.85rem;
		        min-width: 120px;
		        transform: rotate(45deg);
		        transform-origin: center;
		        letter-spacing: 1px;
		      }

      .view-details-btn {
        opacity: 1;
        transform: none;
      }
    }
  }
}

	@media (max-width: 640px) {
	  .products-grid {
	    grid-template-columns: 1fr;
	    gap: var(--space-2);
	  }
	}

// 移动端筛选样式
.mobile-filter {
  position: static;
  margin: 0;
  padding: 0;
  background: transparent;

  .menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(15, 23, 42, 0.35);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.22s ease, visibility 0s linear 0.22s;
    z-index: 1100;
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);

    &.active {
      opacity: 1;
      visibility: visible;
      transition: opacity 0.22s ease, visibility 0s;
    }
  }

  .filter-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: calc(var(--overlay-vh, var(--app-vh, 1vh)) * 100);
    background: white;
    z-index: 1101;
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform 0.28s cubic-bezier(0.165, 0.84, 0.44, 1);
    box-shadow: -2px 0 18px rgba(0, 0, 0, 0.12);
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y;

    &.active {
      transform: translateX(0);
    }

    .menu-header {
      padding: calc(env(safe-area-inset-top, 0px) + 14px) 16px 14px;
      display: grid;
      grid-template-columns: 1fr auto auto;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      flex-shrink: 0;

      h3 {
        margin: 0;
        font-size: 1.05rem;
        font-weight: 700;
        color: vars.$primary-black;
      }

      .clear-filters-btn {
        border: 1px solid rgba(15, 23, 42, 0.10);
        background: rgba(15, 23, 42, 0.04);
        color: rgba(15, 23, 42, 0.72);
        height: 36px;
        padding: 0 12px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
      }

      .close-btn {
        width: 38px;
        height: 38px;
        border: 1px solid rgba(15, 23, 42, 0.10);
        background: rgba(15, 23, 42, 0.04);
        border-radius: 999px;
        display: grid;
        place-items: center;
        color: rgba(15, 23, 42, 0.72);
        cursor: pointer;
      }
    }

    .menu-content {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 180px);
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
      touch-action: pan-y;
    }

    .filter-group {
      margin-bottom: 18px;

      h3,
      .section-title {
        margin: 0 0 12px;
        font-size: 1rem;
        font-weight: 700;
        color: vars.$primary-black;
      }
    }

    .filter-options {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .option-btn {
      height: 44px;
      border-radius: 12px;
      border: 1px solid rgba(15, 23, 42, 0.10);
      background: rgba(15, 23, 42, 0.03);
      color: rgba(15, 23, 42, 0.72);
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.18s ease, opacity 0.18s ease, background 0.18s ease, border-color 0.18s ease;

      &:active {
        transform: scale(0.98);
      }

      &.active {
        background: rgba(vars.$primary-green, 0.16);
        border-color: rgba(vars.$primary-green, 0.35);
        color: vars.$primary-black;
      }
    }

    .brand-list {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .brand-item {
      min-height: 48px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(15, 23, 42, 0.10);
      background: rgba(15, 23, 42, 0.03);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      min-width: 0;
      transition: transform 0.18s ease, opacity 0.18s ease, background 0.18s ease, border-color 0.18s ease;

      span {
        font-size: 0.92rem;
        font-weight: 750;
        color: rgba(15, 23, 42, 0.78);
        min-width: 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      &:active {
        transform: scale(0.985);
      }

      &.active {
        background: rgba(vars.$primary-green, 0.16);
        border-color: rgba(vars.$primary-green, 0.35);

        span {
          color: vars.$primary-black;
        }
      }
    }
  }
}

.spec-tag {
  :deep(sup) {
    font-size: 0.7em;
    line-height: 0;
    position: relative;
    vertical-align: super;
  }
}
