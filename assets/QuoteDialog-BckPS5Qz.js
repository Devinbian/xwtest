import{d as b,r as g,a as h,e as l,E as T,q as k,T as w,D as _,f as i,h as t,t as n,j as d,u as C,g as q,p as B,G as D,_ as E}from"./index-DPrEEZbi.js";const N={class:"dialog-content"},Q={key:0,class:"product-info"},V={key:1,class:"consult-context","aria-label":"咨询上下文"},A={class:"context-header"},U=["aria-label"],j={class:"sr-only",role:"status","aria-live":"polite"},z=["value"],F={class:"contact-container"},G={class:"qr-code-container"},I={class:"qr-code"},M=["src"],O=b({__name:"QuoteDialog",props:{show:{type:Boolean},product:{},contextText:{}},emits:["close"],setup(u,{emit:p}){const c=u,m=p,a=g(!1);let o=null;const v=s=>{try{const e=document.createElement("textarea");e.value=s,e.setAttribute("readonly",""),e.style.position="fixed",e.style.left="-9999px",e.style.top="0",document.body.appendChild(e),e.select();const y=document.execCommand("copy");return document.body.removeChild(e),y}catch{return!1}},f=async()=>{var s;if(c.contextText)try{if((s=navigator.clipboard)!=null&&s.writeText)await navigator.clipboard.writeText(c.contextText);else if(!v(c.contextText))return;a.value=!0,o&&window.clearTimeout(o),o=window.setTimeout(()=>{a.value=!1,o=null},1600)}catch{}};h(()=>{o&&window.clearTimeout(o),o=null});const r=()=>{m("close")},x=s=>{s.target===s.currentTarget&&r()};return(s,e)=>(l(),T(D,{to:"body"},[k(w,{name:"fade"},{default:_(()=>[s.show?(l(),i("div",{key:0,class:"quote-dialog-overlay",onClick:x},[t("div",{class:"quote-dialog",onClick:e[0]||(e[0]=B(()=>{},["stop"]))},[t("div",{class:"dialog-header"},[e[2]||(e[2]=t("h3",null,"立即咨询",-1)),t("button",{class:"close-btn",onClick:r},e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",N,[s.product?(l(),i("div",Q,[t("h4",null,n(s.product.name),1),t("p",null,n(s.product.description),1)])):d("",!0),e[6]||(e[6]=t("div",{class:"consult-scope","aria-label":"咨询可获取的信息"},[t("div",{class:"scope-title"},"咨询可获取："),t("div",{class:"scope-items"},[t("span",{class:"scope-item"},"价格"),t("span",{class:"scope-item"},"交期"),t("span",{class:"scope-item"},"质保"),t("span",{class:"scope-item"},"是否现货"),t("span",{class:"scope-item"},"服务承诺")])],-1)),s.contextText?(l(),i("div",V,[t("div",A,[e[3]||(e[3]=t("div",{class:"context-title"},"咨询上下文（可复制给销售）",-1)),t("button",{type:"button",class:"copy-btn",onClick:f,"aria-label":a.value?"已复制":"复制上下文"},n(a.value?"已复制":"复制"),9,U)]),t("span",j,n(a.value?"已复制到剪贴板":""),1),t("textarea",{class:"context-box",readonly:"",value:s.contextText,"aria-label":"咨询上下文内容"},null,8,z)])):d("",!0),t("div",F,[e[5]||(e[5]=t("div",{class:"contact-methods"},[t("div",{class:"contact-item"},[t("i",{class:"fas fa-phone-alt"}),t("div",{class:"contact-details"},[t("h5",null,"电话咨询"),t("a",{href:"tel:186-6258-5852"},"186-6258-5852")])]),t("div",{class:"contact-item"},[t("i",{class:"fas fa-envelope"}),t("div",{class:"contact-details"},[t("h5",null,"邮件咨询"),t("a",{href:"mailto:sales@xwtest.com.cn"},"sales@xwtest.com.cn")])])],-1)),t("div",G,[t("div",I,[t("img",{src:C(q)("/images/qrcode.png"),alt:"微信二维码",loading:"lazy",decoding:"async"},null,8,M),e[4]||(e[4]=t("p",null,"扫码添加客服微信",-1))])])])])])])):d("",!0)]),_:1})]))}}),H=E(O,[["__scopeId","data-v-455bd6b7"]]);export{H as Q};
