import{r as K,a as Se,c as oe,w as ue,n as vt,b as yt,d as mt,e as bt,f as ht,g as gt,s as kt,h as wt,o as Ke,i as Ct,p as St,j as ze,u as It,k as Et,l as c,m as f,q as n,t as e,v as se,x as V,y as me,z as Fe,A as Re,B as Be,C as G,F as ae,D as ie,E as U,G as De,H as le,I as Me,J as Ht,L as Tt,K as $t,M as xt,_ as _t,N as qt}from"./index-2iajPqZW.js";import{Q as Nt}from"./QuoteDialog-BGWUHX7T.js";const Qe=10,we=u=>String(u??"").toLowerCase().replace(/[^a-z0-9\u4e00-\u9fa5]+/g,""),Pt=({typedCategories:u,selectedCategories:k,selectedBrands:p,selectedNewProduct:C,normalizeSelectedBrands:z,updateQueryParams:q,isBrandSelected:N,toggleBrand:I,isMobile:E})=>{const b=K(""),S=K(!1),h=Se({}),g=Se({}),O=K(!1),T=K(null),B=K(null),y=K(null),X=a=>{const o=y.value;if(!o||a.deltaY===0)return;const l=o.scrollTop<=0,w=o.scrollTop+o.clientHeight>=o.scrollHeight-1;(a.deltaY<0&&l||a.deltaY>0&&w)&&a.preventDefault()},$=new Map;for(const a of u)for(const o of a.brands??[]){const l=String(o??"").trim();if(!l)continue;const w=$.get(l)??[];w.includes(a.id)||w.push(a.id),$.set(l,w)}const D=oe(()=>{var J;const a=we(b.value);if(!a)return[];const o=[],l=new Set;for(const[P,R]of $.entries())if(we(P).includes(a)){if(R.length>1){const _=`all:${P}`;l.has(_)||(l.add(_),o.push({key:_,brand:P,kind:"all",categoryIds:[...R],scopeLabel:"全部分类"}))}for(const _ of R){const fe=((J=u.find(be=>be.id===_))==null?void 0:J.name)??"",de=`one:${_}:${P}`;l.has(de)||(l.add(de),o.push({key:de,brand:P,kind:"one",categoryIds:[_],categoryId:_,scopeLabel:fe||"分类"}))}}const w=P=>we(P.brand).startsWith(a);return o.sort((P,R)=>{const j=w(P),_=w(R);return j!==_?j?-1:1:P.kind!==R.kind?P.kind==="all"?-1:1:P.brand.localeCompare(R.brand)}),o.slice(0,8)}),x=a=>!!h[a],A=a=>{h[a]=!h[a]},Z=a=>p.value.filter(o=>o.categoryId===a&&!!String(o.brand??"").trim()).length,te=a=>{C.value="";const o=String(a);k.value=k.value.filter(l=>String(l)!==o),p.value=p.value.filter(l=>l.categoryId!==a),q()},W=oe(()=>{if(!S.value)return u;const a=new Set;for(const o of k.value){const l=Number(o);Number.isFinite(l)&&a.add(l)}for(const o of p.value)Number.isFinite(o.categoryId)&&a.add(o.categoryId);return a.size===0?u:u.filter(o=>a.has(o.id))});let Q=!1;const ne=()=>{if(Q)return;Q=!0;const a=new Set;for(const o of k.value){const l=Number(o);Number.isFinite(l)&&a.add(l)}for(const o of p.value)Number.isFinite(o.categoryId)&&a.add(o.categoryId);for(const o of a)h[o]=!0},H=()=>{for(const a of k.value){const o=Number(a);Number.isFinite(o)&&(h[o]=!0)}for(const a of p.value)Number.isFinite(a.categoryId)&&(h[a.categoryId]=!0)},M=a=>{const o=[...a.brands??[]].map(l=>String(l)).filter(Boolean);return o.sort((l,w)=>{const J=N(a.id,l),P=N(a.id,w);return J!==P?J?-1:1:l.localeCompare(w)}),g[a.id]?o:o.slice(0,Qe)},L=a=>{g[a]=!g[a]},v=(a,o)=>{C.value="";const l=String(a??"").trim(),w=o.filter(_=>Number.isFinite(_));if(!l||w.length===0)return;const J=new Set(p.value.map(_=>`${_.categoryId}:${_.brand}`)),R=w.map(_=>`${_}:${l}`).every(_=>J.has(_));let j=p.value.filter(_=>!(_.brand===l&&w.includes(_.categoryId)));if(!R)for(const _ of w)J.has(`${_}:${l}`)||(j.push({categoryId:_,brand:l}),h[_]=!0);p.value=z(j),q()},F=a=>{if(a.kind==="all")v(a.brand,a.categoryIds);else{const o=a.categoryId??a.categoryIds[0];h[o]=!0,I(o,a.brand)}b.value="",O.value=!1};ue([k,p],()=>{E.value||H()},{deep:!0});const i=async()=>{var a,o;O.value=!0,await vt(),(o=(a=B.value)==null?void 0:a.focus)==null||o.call(a)},r=()=>{O.value=!1,b.value=""};return{desktopBrandQuery:b,desktopOnlyShowSelected:S,desktopExpandedCategories:h,desktopShowAllBrands:g,desktopBrandPickerOpen:O,desktopBrandPickerRoot:T,desktopBrandPickerInput:B,desktopCategoriesMenuEl:y,desktopBrandSuggestions:D,isCategoryExpanded:x,toggleCategoryExpanded:A,selectedBrandCountByCategory:Z,clearCategoryFilters:te,desktopVisibleCategories:W,seedDesktopExpandedCategories:ne,desktopBrandsForCategory:M,toggleDesktopShowAllBrands:L,applyDesktopBrandSuggestion:F,closeDesktopBrandPicker:r,toggleDesktopBrandPicker:()=>{O.value?r():i()},handleDesktopBrandPickerDismiss:a=>{if(!O.value)return;const o=T.value,l=a.target;l&&(o!=null&&o.contains(l)||r())},handleDesktopMenuWheel:X}},Ve=u=>typeof u=="string"?u:Array.isArray(u)&&typeof u[0]=="string"?u[0]:"",Ot=u=>{const k=Ve(u);return k==="1"||k==="true"||k==="on"},At=u=>{if(typeof window>"u")return null;try{return window.localStorage.getItem(u)}catch{return null}},pe=(u,k)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(u,k)}catch{}},Ft=({typedProducts:u,route:k,router:p,enabledStorageKey:C="xw:hot-editor:enabled"})=>{const z=oe(()=>Ot(k.query.__hot)),q=oe(()=>Ve(k.query.__token).trim()),N=K(!1),I=K(!1),E=K({overrides:{},disableAllHot:!1}),b=K(!1),S=K(!1),h=K(null),g=oe(()=>yt(u,E.value.overrides,E.value.disableAllHot)),O=async()=>{const H=await ht();E.value={overrides:H.overrides??{},disableAllHot:H.disableAllHot===!0}},T=async()=>{S.value=await gt(),!S.value&&I.value&&(I.value=!1,pe(C,"0"))},B=async H=>{const M=String(H??"").trim()||String(window.prompt("请输入热门编辑口令（服务器端 HOT_EDITOR_TOKEN）")??"").trim();return M?(await bt(M),await T(),S.value):!1},y=async()=>{await mt(),await T(),I.value=!1,pe(C,"0")},X=()=>{var H;(H=h.value)==null||H.removeAttribute("open")},$=async H=>{if(!b.value&&!(!S.value&&!await B())){E.value=H,b.value=!0;try{await kt(H),wt()}catch(M){await O(),String((M==null?void 0:M.message)??M)==="unauthorized"?(await T(),window.alert("热门编辑口令不正确或未配置，保存失败。")):window.alert("保存热门配置失败，请稍后重试。")}finally{b.value=!1}}},D=async()=>{b.value||!await T().then(()=>S.value)&&!await B()||(I.value=!0,pe(C,"1"))},x=async()=>{X(),I.value=!1,pe(C,"0")},A=()=>{N.value&&(I.value=!I.value,pe(C,I.value?"1":"0"))},Z=()=>{X(),$({overrides:{},disableAllHot:!1})},te=()=>{X(),window.confirm("确认清空所有热门标记？（将覆盖代码默认热门）")&&$({overrides:{},disableAllHot:!0})},W=(H,M)=>{const L=String(H),v={...E.value.overrides},F=v[L]??{};if(M){const{hotRank:i}=F;v[L]={...F,isHot:!0},typeof i=="number"?v[L].hotRank=i:i===null&&delete v[L].hotRank}else v[L]={isHot:!1};$({...E.value,overrides:v})},Q=(H,M)=>{const L=String(H),v=String(M??"").trim(),F=v?Number.parseInt(v,10):Number.NaN,i=Number.isFinite(F)?Math.trunc(F):void 0,r={...E.value.overrides};if(!v){const d=r[L]??{};r[L]={...d,isHot:!0,hotRank:null},$({...E.value,overrides:r});return}if(!(!i||i<1||i>10)){for(const d of u)if(d.id!==H&&d.hotRank===i){const m=String(d.id);r[m]={...r[m]??{},hotRank:null}}for(const[d,m]of Object.entries(r))d!==L&&typeof(m==null?void 0:m.hotRank)=="number"&&m.hotRank===i&&(r[d]={...m??{},hotRank:null});r[L]={...r[L]??{},isHot:!0,hotRank:i},$({...E.value,overrides:r})}},ne=()=>{T(),O(),I.value=N.value&&At(C)==="1",N.value&&q.value&&B(q.value).finally(()=>{const H={...k.query};delete H.__token,p.replace({query:H})})};return ue(z,H=>{N.value=H,H||(I.value=!1)},{immediate:!0}),{hotEditorUnlocked:N,hotEditorEnabled:I,isSavingHotOverrides:b,hotEditorAuthorized:S,hotAdminMenu:h,productsWithHot:g,refreshHotEditorSession:T,loadHotConfig:O,authorizeHotEditor:B,logoutHotEditor:y,enterHotEdit:D,exitHotEdit:x,toggleHotEditor:A,restoreDefaultHot:Z,clearAllHot:te,setProductHot:W,setProductHotRank:Q,initializeHotEditor:ne}},ee=u=>typeof u=="string"?u:Array.isArray(u)&&typeof u[0]=="string"?u[0]:"",Rt=u=>{const k=ee(u);return k==="1"||k==="true"||k==="on"},Bt=({typedCategories:u,productsWithHot:k,route:p,router:C,hotEditorUnlocked:z})=>{const q=i=>{var d;const r=i.trim().toLowerCase();if(!r)return null;for(const m of u){const a=(d=m.brands)==null?void 0:d.find(o=>String(o).trim().toLowerCase()===r);if(a)return{categoryId:m.id,brand:a}}return null},N=i=>{var m;const r=new Set,d=[];for(const a of i){const o=String(a.brand??"").trim();if(!o)continue;let l=a.categoryId,w=o;const J=Number.isFinite(l)?u.find(R=>R.id===l):void 0;if(J){const R=((m=J.brands)==null?void 0:m.find(j=>String(j).trim().toLowerCase()===w.toLowerCase()))??null;if(R)w=R;else{const j=q(w);if(j)l=j.categoryId,w=j.brand;else continue}}else{const R=q(w);if(R)l=R.categoryId,w=R.brand;else continue}if(!Number.isFinite(l))continue;const P=`${l}:${w}`;r.has(P)||(r.add(P),d.push({categoryId:l,brand:w}))}return d},I=i=>{const r=ee(i);return r.trim()?r.split(",").map(d=>d.trim()).filter(Boolean).map(d=>{const m=d.indexOf(":");if(m===-1)return{categoryId:Number.NaN,brand:d};const a=d.slice(0,m),o=d.slice(m+1);return{categoryId:Number(a),brand:o}}):[]},E=i=>i.filter(r=>Number.isFinite(r.categoryId)&&!!String(r.brand??"").trim()).map(r=>`${r.categoryId}:${String(r.brand).trim()}`).join(","),b=()=>{const i=N(I(p.query.brands));return{categories:ee(p.query.categories).split(",").filter(Boolean),brands:i,newProduct:ee(p.query.id),type:ee(p.query.type),q:ee(p.query.q),hotOnly:Rt(p.query.hot)}},S=K(b().categories),h=K(b().brands),g=K(b().newProduct),O=K(b().type),T=K(b().q),B=K(b().hotOnly),y=()=>{const i=b();S.value=i.categories,h.value=i.brands,g.value=i.newProduct,O.value=i.type,T.value=i.q,B.value=i.hotOnly;const r=ee(p.query.brands),d=E(i.brands);if((r||"")!==(d||"")){const m={...p.query};d?m.brands=d:delete m.brands,C.replace({query:m})}},X=oe(()=>{const i=ee(p.query.category);return u.find(r=>r.id===Number(i))}),$=oe(()=>{let i=[...k.value];const r=ee(p.query.type);r&&(i=i.filter(a=>a.type===r)),S.value.length>0&&(i=i.filter(a=>S.value.includes(String(a.categoryId)))),h.value.length>0&&(i=i.filter(a=>h.value.some(o=>o.categoryId===a.categoryId&&o.brand===a.brand)));const d=ee(p.query.brand);if(d&&(i=i.filter(a=>a.brandDisplay===d||a.brand===d)),g.value){const a=Number(g.value);i=i.filter(o=>o.id===a)}const m=T.value.trim().toLowerCase();return m&&(i=i.filter(a=>{var w;const o=((w=u.find(J=>J.id===a.categoryId))==null?void 0:w.name)??"";return[a.name,a.brandDisplay,a.brand,a.description,o,...a.specs??[]].filter(Boolean).join(" ").toLowerCase().includes(m)})),B.value&&(i=i.filter(a=>!!a.isHot||typeof a.hotRank=="number")),i}),D=()=>{const i={};S.value.length>0&&(i.categories=S.value.join(",")),h.value.length>0&&(i.brands=h.value.filter(o=>Number.isFinite(o.categoryId)&&!!o.brand).map(o=>`${o.categoryId}:${o.brand}`).join(",")),g.value&&(i.id=g.value);const r=ee(p.query.type);r&&(i.type=r);const d=ee(p.query.brand);d&&(i.brand=d);const m=ee(p.query.__hot);m&&(i.__hot=m),B.value&&(i.hot="1");const a=T.value.trim();a&&(i.q=a),C.replace({query:i})},x=i=>S.value.includes(String(i)),A=(i,r)=>Number.isFinite(i)?h.value.some(d=>d.categoryId===i&&d.brand===r):h.value.some(d=>d.brand===r&&!Number.isFinite(d.categoryId)),Z=i=>{g.value="";const r=String(i),d=S.value.indexOf(r);d===-1?S.value.push(r):S.value.splice(d,1),D()},te=(i,r)=>{if(g.value="",!Number.isFinite(i)){h.value=h.value.filter(m=>m.brand!==r),D();return}const d=h.value.findIndex(m=>m.categoryId===i&&m.brand===r);d===-1?h.value.push({categoryId:i,brand:r}):h.value.splice(d,1),D()},W=i=>{const r={...p.query};ee(p.query.type)===i?delete r.type:(r.type=i,delete r.id),C.push({query:r}),g.value=""},Q=()=>{const i=T.value.trim(),r={...p.query};i?r.q=i:delete r.q,r.id&&delete r.id,g.value="",C.replace({query:r})};let ne=null;const H=()=>{ne&&window.clearTimeout(ne),ne=window.setTimeout(()=>{Q()},240)},M=()=>{T.value="",Q()},L=()=>{B.value=!B.value,ee(p.query.id)&&(g.value=""),D()},v=oe(()=>{let i=0;return ee(p.query.type)&&(i+=1),ee(p.query.brand)&&(i+=1),B.value&&(i+=1),T.value.trim()&&(i+=1),i+=S.value.length,i+=h.value.length,g.value&&(i+=1),i}),F=()=>{O.value="",h.value=[],S.value=[],g.value="",T.value="",B.value=!1,C.push({name:"products",query:z.value?{__hot:"1"}:{}})};return ue(()=>p.query,()=>{ee(p.query.id)||(g.value=""),y()},{immediate:!0}),Ke(()=>{ne&&(window.clearTimeout(ne),ne=null)}),{selectedCategories:S,selectedBrands:h,selectedNewProduct:g,searchQuery:T,hotOnly:B,currentCategory:X,filteredProducts:$,activeFiltersCount:v,isCategorySelected:x,isBrandSelected:A,toggleCategory:Z,toggleBrand:te,toggleProductType:W,clearFilters:F,clearSearch:M,commitSearch:Q,onSearchInput:H,toggleHotOnly:L,updateQueryParams:D,normalizeSelectedBrands:N}},Dt=({route:u,router:k,typedCategories:p,typedProducts:C,selectedCategories:z,selectedBrands:q,selectedNewProduct:N,searchQuery:I,hotOnly:E,isMobile:b,toggleProductType:S,toggleCategory:h,clearSearch:g,updateQueryParams:O,getTypeLabel:T})=>{const B=v=>{const F={...u.query};delete F[v],k.replace({query:F})},y=oe(()=>{const v=[],F=new Set(q.value.filter(o=>Number.isFinite(o.categoryId)&&!!o.brand).map(o=>String(o.categoryId))),i=u.query.type;(i==="new"||i==="used")&&v.push({key:`type:${i}`,label:`类型：${T(i)}`,remove:()=>S(i)});const r=u.query.brand;r&&v.push({key:`brandJump:${r}`,label:`全分类品牌：${r}`,remove:()=>B("brand")});const d=I.value.trim();d&&v.push({key:`q:${d}`,label:`搜索：${d}`,remove:()=>g()}),E.value&&v.push({key:"hot:1",label:"热门",remove:()=>{E.value=!1,O()}});for(const o of z.value){if(F.has(String(o)))continue;const l=p.find(w=>String(w.id)===String(o));v.push({key:`cat:${o}`,label:l?`分类：${l.name}`:`分类：${o}`,remove:()=>h(Number(o))})}const m=new Map;for(const o of q.value){if(!Number.isFinite(o.categoryId)||!o.brand)continue;const l=m.get(o.categoryId)??[];l.push(o.brand),m.set(o.categoryId,l)}for(const[o,l]of m.entries()){const w=p.find(j=>j.id===o),J=(w==null?void 0:w.name)??`分类${o}`,P=Array.from(new Set(l)),R=P.length<=1?`品牌：${J} / ${P[0]}`:`品牌：${J} / ${P[0]} +${P.length-1}`;v.push({key:`brandGroup:${o}`,label:R,title:`品牌：${J} / ${P.join("、")}`,remove:()=>{q.value=q.value.filter(j=>j.categoryId!==o),O()}})}if(N.value){const o=N.value,l=C.find(w=>String(w.id)===String(o));v.push({key:`id:${o}`,label:l?`产品：${l.name}`:`ID：${o}`,remove:()=>{N.value="",O()}})}const a=new Map;for(const o of v)a.set(o.key,o);return Array.from(a.values())}),X=K(!1),$=oe(()=>b.value?2:6),D=oe(()=>X.value?y.value:y.value.slice(0,$.value)),x=oe(()=>{const v=y.value.length-D.value.length;return v>0?v:0});ue(y,v=>{v.length<=$.value&&(X.value=!1)});const A=K(!1),Z=oe(()=>y.value.length===0?!0:A.value);let te=0,W=0;const Q=v=>{A.value!==v&&(A.value=v,v&&(X.value=!1))},ne=()=>{W=0;const v=window.scrollY||0,F=v-te;if(te=v,v<=40){Q(!1);return}if(F>8&&v>140){Q(!0);return}F<-10&&Q(!1)},H=()=>{W||(W=window.requestAnimationFrame(ne))},M=()=>{te=window.scrollY||0,ne()},L=()=>{W&&(window.cancelAnimationFrame(W),W=0)};return ue(()=>y.value.length,(v,F)=>{if(v===0){A.value=!1,X.value=!1;return}F===0&&(A.value=!1)}),{filterChips:y,chipsExpanded:X,displayedFilterChips:D,hiddenFilterChipCount:x,topbarCompact:Z,onTopbarScroll:H,initializeTopbarScroll:M,cleanupTopbarScroll:L}},Mt=({typedCategories:u,typedProducts:k,productsWithHot:p,route:C,router:z,hotEditorUnlocked:q,isMobile:N,showFilter:I})=>{const E=B=>B==="new"?"产品":B==="used"?"中古品":"全部",b=Bt({typedCategories:u,productsWithHot:p,route:C,router:z,hotEditorUnlocked:q}),S=Dt({route:C,router:z,typedCategories:u,typedProducts:k,selectedCategories:b.selectedCategories,selectedBrands:b.selectedBrands,selectedNewProduct:b.selectedNewProduct,searchQuery:b.searchQuery,hotOnly:b.hotOnly,isMobile:N,toggleProductType:b.toggleProductType,toggleCategory:b.toggleCategory,clearSearch:b.clearSearch,updateQueryParams:b.updateQueryParams,getTypeLabel:E});return{...b,...S,getTypeLabel:E,openMobileFilter:()=>{I.value=!0},closeMobileFilter:()=>{I.value=!1},clearFiltersAndClose:()=>{I.value=!1,b.clearFilters()},toggleChipsExpanded:()=>{S.chipsExpanded.value=!S.chipsExpanded.value}}},Lt={new:"全新",used:"二手",refurbished:"翻新",sale:"促销",discount:"50%"},Ce=u=>String(u??"").replace(/<[^>]*>/g,""),Kt=({route:u,typedCategories:k,selectedCategories:p,selectedBrands:C,filteredProducts:z,getTypeLabel:q})=>{const N=y=>Lt[y]||"未知",I=y=>{const $=String(y??"").replace(/(\d+)\s*[×x]\s*10([+-]?\d+)/g,"$1×10<sup>$2</sup>"),D=[],x=/<sup>(.*?)<\/sup>/gi;let A=0,Z;for(;(Z=x.exec($))!==null;){const W=Ce($.slice(A,Z.index));W&&D.push({text:W,sup:!1});const Q=Ce(Z[1]??"");Q&&D.push({text:Q,sup:!0}),A=x.lastIndex}const te=Ce($.slice(A));return te&&D.push({text:te,sup:!1}),D},E=Se(new Set),b=y=>E.has(y),S=y=>{if(E.has(y)){E.delete(y);return}E.add(y)},h=K(!1),g=K(null),O=oe(()=>{const y=[];if(y.push("【产品信息】"),g.value){const x=g.value;y.push(`名称：${x.name}`),y.push(`品牌：${x.brandDisplay||x.brand}`),y.push(`成色：${N(x.condition)}`),x.link&&y.push(`详情链接：${x.link}`)}else y.push("未指定（请补充型号/参数/用途）");y.push(""),y.push("【当前筛选】"),y.push(`类型：${q(u.query.type)}`);const X=p.value.map(x=>{var A;return(A=k.find(Z=>Z.id===Number(x)))==null?void 0:A.name}).filter(Boolean);y.push(`分类：${X.length?X.join("、"):"全部"}`);const $=new Map;for(const x of C.value){const A=$.get(x.categoryId)??[];A.push(x.brand),$.set(x.categoryId,A)}const D=Array.from($.entries()).map(([x,A])=>{var W;const Z=((W=k.find(Q=>Q.id===x))==null?void 0:W.name)??`分类${x}`,te=Array.from(new Set(A));return`${Z}：${te.join("、")}`});y.push(`品牌：${D.length?D.join("；"):"全部"}`),u.query.brand&&y.push(`品牌跳转：${u.query.brand}`),z.value.length&&y.push(`当前列表数量：${z.value.length}`),y.push(""),y.push("【咨询内容】价格 / 交期 / 质保 / 是否现货 / 服务承诺");try{y.push(""),y.push(`页面：${window.location.href}`)}catch{}return y.join(`
`)});return{getConditionText:N,formatSpecParts:I,isSpecsExpanded:b,toggleSpecsExpanded:S,showQuoteDialog:h,selectedProduct:g,consultContextText:O,openQuoteDialog:y=>{g.value=y??null,h.value=!0},closeQuoteDialog:()=>{h.value=!1,g.value=null}}},zt=({initializeViewportState:u,cleanupViewportState:k,seedDesktopExpandedCategories:p,desktopCategoriesMenuEl:C,handleDesktopBrandPickerDismiss:z,handleDesktopMenuWheel:q,initializeHotEditor:N,initializeTopbarScroll:I,onTopbarScroll:E,cleanupTopbarScroll:b,filteredProducts:S})=>{const h=async()=>{const O=S.value.map(T=>T.image);await Promise.all(O.map(T=>St(T)))};let g=null;Ct(()=>{u(),p(),document.addEventListener("pointerdown",z),g=C.value,g==null||g.addEventListener("wheel",q,{passive:!1}),N(),I(),window.addEventListener("scroll",E,{passive:!0}),h()}),ue(S,()=>{h()}),Ke(()=>{k(),document.removeEventListener("pointerdown",z),g==null||g.removeEventListener("wheel",q),window.removeEventListener("scroll",E),b()})},Qt=({mobileBreakpoint:u=768}={})=>{const k=K(!1),p=K(!1),C=()=>{var b;const E=((b=window.visualViewport)==null?void 0:b.height)??window.innerHeight;document.documentElement.style.setProperty("--overlay-vh",`${E*.01}px`),document.documentElement.style.setProperty("--overlay-vh-px",`${E}px`)},z=()=>{document.documentElement.style.removeProperty("--overlay-vh"),document.documentElement.style.removeProperty("--overlay-vh-px")},q=()=>{k.value=window.innerWidth<=u},N=()=>{q(),window.addEventListener("resize",q)},I=()=>{z(),window.removeEventListener("resize",q)};return ue(p,E=>{k.value&&(E?C():z())}),{isMobile:k,showFilter:p,initializeViewportState:N,cleanupViewportState:I}},Le=[{id:1,name:"数字万用表/源表",brands:["ADCMT","KEYSIGHT","KEITHLEY","HIOKI","FLUKE","IWATSU","RIGOL","GWINSTEK"]},{id:2,name:"电压/电流源",brands:["ADCMT","KEYSIGHT","KEITHLEY","KIKUSUI","CHROMA","RIGOL","GWINSTEK"]},{id:3,name:"超高电阻/微小电流计",brands:["ADCMT","KEYSIGHT","KEITHLEY","HIOKI"]},{id:4,name:"数字示波器",brands:["TEKTRONIX","KEYSIGHT","R&S","RIGOL"]},{id:5,name:"电气安规测试",brands:["KIKUSUI","HIOKI","GWINSTEK","TONGHUI"]},{id:6,name:"X-RAY荧光分析仪",brands:["SHIMADZU","HITACHI","FISCHER","OLYMPUS"]},{id:7,name:"镀层膜厚测试仪",brands:["FISCHER","BOWMAN","HITACHI"]},{id:8,name:"扫描电子显微镜SEM",brands:["THERMO FISHER","HITACHI","ZEISS"]},{id:9,name:"傅里叶红外显微镜",brands:["THERMO FISHER","SHIMADZU","JASCO"]},{id:10,name:"影像测试仪・三次元",brands:["NIKON","MITUTOYO","ACCRETECH","HEXAGON","GARH","OGP"]},{id:11,name:"水滴角・接触角测试仪",brands:["KRUSS","KINO","SHENTIN"]},{id:12,name:"拉伸・弯曲・疲劳试验机",brands:["SHIMADZU","INSTRON","GOTECH"]},{id:13,name:"照度・色彩・色差",brands:["KONICA MINOLTA","X-RITE","日本电色","CA"]},{id:14,name:"数据记录仪・数据采集仪",brands:["HIOKI","GRAPHTEC"]},{id:15,name:"振动・噪音测试",brands:["RION","MIROSTONE"]},{id:16,name:"环境试验箱",brands:["ESPEC","HITACHI","GWINSTEK","TOMILO"]},{id:17,name:"耗材・工具",brands:["通讯连接器"]}],Vt={class:"products-page"},Gt={class:"filter-content"},Ut={class:"filters-sticky"},Yt={class:"toolbar-top"},Wt={class:"product-type-selector"},jt=["aria-pressed"],Xt=["aria-pressed"],Jt={class:"brand-quick-pop"},Zt=["aria-expanded"],es={class:"brand-quick-input"},ts={key:0,class:"brand-quick-suggest"},ss=["onClick"],ns={class:"suggest-brand"},os={class:"suggest-scope"},as={key:1,class:"brand-quick-empty"},is={class:"facets"},rs={class:"facet-head"},ls=["aria-pressed","title","onClick"],ds=["aria-expanded","onClick"],us={class:"facet-title"},cs={key:0,class:"facet-badge"},ps=["onClick"],fs={class:"facet-body"},vs={class:"brand-chips"},ys=["aria-pressed","onClick"],ms=["onClick"],bs={key:1,class:"mobile-filter"},hs={class:"menu-header"},gs={class:"menu-content"},ks={class:"filter-group"},ws={class:"filter-options"},Cs=["aria-pressed"],Ss=["aria-pressed"],Is={class:"section-title"},Es={class:"brand-list"},Hs=["aria-pressed","onClick"],Ts={class:"products-content"},$s={class:"topbar-main"},xs={class:"page-title"},_s={class:"topbar-actions"},qs={class:"search-box",role:"search","aria-label":"搜索产品"},Ns=["aria-pressed"],Ps=["aria-label"],Os={key:0,class:"pill-count","aria-hidden":"true"},As=["disabled"],Fs={key:1,class:"hot-admin-editing"},Rs=["disabled"],Bs=["disabled"],Ds=["disabled"],Ms={key:0,class:"topbar-chips","aria-label":"已选筛选项"},Ls=["title","onClick"],Ks={class:"chip-label"},zs={class:"chips-actions"},Qs=["aria-expanded"],Vs={key:1,class:"chips-compact-count","aria-hidden":"true"},Gs={key:0,class:"empty-products"},Us={class:"empty-card"},Ys={key:0,class:"active-tags","aria-label":"当前筛选条件"},Ws=["title","onClick"],js={class:"empty-actions"},Xs={key:1,class:"products-grid"},Js={class:"image-wrapper"},Zs={key:0,class:"hot-tag","aria-label":"热门产品"},en={key:0,class:"hot-rank"},tn=["checked","disabled","onChange"],sn=["value","disabled","onInput"],nn={class:"product-info"},on=["title"],an={key:0,class:"specs-row"},rn=["id"],ln={key:0},dn=["aria-controls","aria-expanded","onClick"],un={class:"product-brand"},cn={class:"card-actions"},pn=["href"],fn=["onClick"],vn=ze({__name:"ProductsPageView",setup(u){const k=Le,p=xt,C=It(),z=Et(),{hotEditorUnlocked:q,hotEditorEnabled:N,isSavingHotOverrides:I,hotEditorAuthorized:E,hotAdminMenu:b,productsWithHot:S,enterHotEdit:h,exitHotEdit:g,restoreDefaultHot:O,clearAllHot:T,setProductHot:B,setProductHotRank:y,initializeHotEditor:X}=Ft({typedProducts:p,route:C,router:z}),{isMobile:$,showFilter:D,initializeViewportState:x,cleanupViewportState:A}=Qt(),{selectedCategories:Z,selectedBrands:te,selectedNewProduct:W,searchQuery:Q,hotOnly:ne,currentCategory:H,filteredProducts:M,activeFiltersCount:L,isCategorySelected:v,isBrandSelected:F,toggleCategory:i,toggleBrand:r,toggleProductType:d,clearFilters:m,clearSearch:a,commitSearch:o,onSearchInput:l,toggleHotOnly:w,updateQueryParams:J,normalizeSelectedBrands:P,filterChips:R,chipsExpanded:j,displayedFilterChips:_,hiddenFilterChipCount:fe,topbarCompact:de,onTopbarScroll:be,initializeTopbarScroll:Ge,cleanupTopbarScroll:Ue,getTypeLabel:Ye,openMobileFilter:Ie,closeMobileFilter:ve,clearFiltersAndClose:Ee,toggleChipsExpanded:He}=Mt({typedCategories:k,typedProducts:p,productsWithHot:S,route:C,router:z,hotEditorUnlocked:q,isMobile:$,showFilter:D}),{desktopBrandQuery:ce,desktopShowAllBrands:Te,desktopBrandPickerOpen:$e,desktopBrandPickerRoot:We,desktopBrandPickerInput:je,desktopCategoriesMenuEl:xe,desktopBrandSuggestions:_e,isCategoryExpanded:qe,toggleCategoryExpanded:Xe,selectedBrandCountByCategory:he,clearCategoryFilters:Je,desktopVisibleCategories:Ze,seedDesktopExpandedCategories:et,desktopBrandsForCategory:tt,toggleDesktopShowAllBrands:st,applyDesktopBrandSuggestion:nt,closeDesktopBrandPicker:Ne,toggleDesktopBrandPicker:Pe,handleDesktopBrandPickerDismiss:ot,handleDesktopMenuWheel:at}=Pt({typedCategories:k,selectedCategories:Z,selectedBrands:te,selectedNewProduct:W,normalizeSelectedBrands:P,updateQueryParams:J,isBrandSelected:F,toggleBrand:r,isMobile:$}),{getConditionText:it,formatSpecParts:rt,isSpecsExpanded:ye,toggleSpecsExpanded:lt,showQuoteDialog:dt,selectedProduct:ut,consultContextText:ct,openQuoteDialog:Oe,closeQuoteDialog:pt}=Kt({route:C,typedCategories:k,selectedCategories:Z,selectedBrands:te,filteredProducts:M,getTypeLabel:Ye});return zt({initializeViewportState:x,cleanupViewportState:A,seedDesktopExpandedCategories:et,desktopCategoriesMenuEl:xe,handleDesktopBrandPickerDismiss:ot,handleDesktopMenuWheel:at,initializeHotEditor:X,initializeTopbarScroll:Ge,onTopbarScroll:be,cleanupTopbarScroll:Ue,filteredProducts:M}),(mn,s)=>{var Ae;return c(),f("div",null,[n("div",Vt,[e($)?G("",!0):(c(),f("aside",{key:0,ref_key:"desktopCategoriesMenuEl",ref:xe,class:"categories-menu"},[n("div",Gt,[n("div",Ut,[n("div",{ref_key:"desktopBrandPickerRoot",ref:We,class:"filters-toolbar"},[n("div",Yt,[n("div",Wt,[n("button",{type:"button",class:se(["type-btn",{active:e(C).query.type==="new"}]),"aria-pressed":e(C).query.type==="new",onClick:s[0]||(s[0]=t=>e(d)("new"))}," 产品 ",10,jt),n("button",{type:"button",class:se(["type-btn",{active:e(C).query.type==="used"}]),"aria-pressed":e(C).query.type==="used",onClick:s[1]||(s[1]=t=>e(d)("used"))}," 中古品 ",10,Xt)]),n("div",Jt,[n("button",{type:"button",class:"facet-icon brand-quick-trigger",title:"添加品牌","aria-expanded":e($e),onClick:s[2]||(s[2]=(...t)=>e(Pe)&&e(Pe)(...t))},s[31]||(s[31]=[n("i",{class:"fas fa-search","aria-hidden":"true"},null,-1),n("span",{class:"sr-only"},"添加品牌",-1)]),8,Zt)])]),e($e)?(c(),f("div",{key:0,class:"brand-quick-panel",role:"dialog","aria-label":"添加品牌",onClick:s[6]||(s[6]=V(()=>{},["stop"]))},[n("div",es,[s[33]||(s[33]=n("i",{class:"fas fa-search","aria-hidden":"true"},null,-1)),me(n("input",{ref_key:"desktopBrandPickerInput",ref:je,"onUpdate:modelValue":s[3]||(s[3]=t=>Be(ce)?ce.value=t:null),type:"search",inputmode:"search",placeholder:"输入品牌（支持英文/缩写）",onKeydown:s[4]||(s[4]=Re((...t)=>e(Ne)&&e(Ne)(...t),["escape"]))},null,544),[[Fe,e(ce)]]),e(ce).trim()?(c(),f("button",{key:0,type:"button",class:"brand-quick-clear","aria-label":"清除品牌搜索",onClick:s[5]||(s[5]=t=>ce.value="")},s[32]||(s[32]=[n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]))):G("",!0)]),e(_e).length?(c(),f("div",ts,[(c(!0),f(ae,null,ie(e(_e),t=>(c(),f("button",{key:t.key,type:"button",class:"suggest-item",onClick:Y=>e(nt)(t)},[n("span",ns,U(t.brand),1),n("span",os,U(t.scopeLabel),1)],8,ss))),128))])):(c(),f("div",as," 输入关键字以搜索品牌 "))])):G("",!0)],512)]),n("div",is,[(c(!0),f(ae,null,ie(e(Ze),t=>(c(),f("div",{key:t.id,class:se(["facet",{selected:e(v)(t.id)}])},[n("div",rs,[n("button",{type:"button",class:se(["facet-select",{active:e(v)(t.id)}]),"aria-pressed":e(v)(t.id),title:e(v)(t.id)?"取消筛选该分类":"筛选该分类",onClick:V(Y=>e(i)(t.id),["stop"])},[n("i",{class:se(["fas",e(v)(t.id)?"fa-check":"fa-plus"]),"aria-hidden":"true"},null,2),s[34]||(s[34]=n("span",{class:"sr-only"},"筛选该分类",-1))],10,ls),n("button",{type:"button",class:"facet-toggle","aria-expanded":e(qe)(t.id),onClick:Y=>e(Xe)(t.id)},[n("span",us,U(t.name),1),e(he)(t.id)>0?(c(),f("span",cs," 已选"+U(e(he)(t.id)),1)):G("",!0)],8,ds),e(he)(t.id)>0||e(v)(t.id)?(c(),f("button",{key:0,type:"button",class:"facet-clear",title:"清空该分类筛选","aria-label":"清空该分类筛选",onClick:V(Y=>e(Je)(t.id),["stop"])},s[35]||(s[35]=[n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]),8,ps)):G("",!0)]),me(n("div",fs,[n("div",vs,[(c(!0),f(ae,null,ie(e(tt)(t),Y=>(c(),f("button",{key:Y,type:"button",class:se(["brand-chip",{active:e(F)(t.id,Y)}]),"aria-pressed":e(F)(t.id,Y),onClick:re=>e(r)(t.id,Y)},U(Y),11,ys))),128))]),t.brands.length>e(Qe)?(c(),f("button",{key:0,type:"button",class:"facet-more",onClick:Y=>e(st)(t.id)},[le(U(e(Te)[t.id]?"收起品牌":`更多品牌（共${t.brands.length}个）`)+" ",1),n("i",{class:se(["fas",e(Te)[t.id]?"fa-chevron-up":"fa-chevron-down"]),"aria-hidden":"true"},null,2)],8,ms)):G("",!0)],512),[[De,e(qe)(t.id)]])],2))),128))])])],512)),e($)?(c(),f("div",bs,[n("div",{class:se(["menu-overlay",{active:e(D)}]),onClick:s[7]||(s[7]=(...t)=>e(ve)&&e(ve)(...t))},null,2),n("div",{class:se(["filter-menu",{active:e(D)}])},[n("div",hs,[s[38]||(s[38]=n("h3",null,"筛选条件",-1)),e(L)>0?(c(),f("button",{key:0,class:"clear-filters-btn",onClick:s[8]||(s[8]=(...t)=>e(m)&&e(m)(...t))},s[36]||(s[36]=[n("i",{class:"fas fa-times"},null,-1),le(" 清除筛选 ")]))):G("",!0),n("button",{class:"close-btn",onClick:s[9]||(s[9]=(...t)=>e(ve)&&e(ve)(...t))},s[37]||(s[37]=[n("i",{class:"fas fa-times"},null,-1)]))]),n("div",gs,[n("div",ks,[s[39]||(s[39]=n("h3",null,"产品类型",-1)),n("div",ws,[n("button",{type:"button",class:se(["option-btn",{active:e(C).query.type==="new"}]),"aria-pressed":e(C).query.type==="new",onClick:s[10]||(s[10]=t=>e(d)("new"))}," 产品 ",10,Cs),n("button",{type:"button",class:se(["option-btn",{active:e(C).query.type==="used"}]),"aria-pressed":e(C).query.type==="used",onClick:s[11]||(s[11]=t=>e(d)("used"))}," 中古品 ",10,Ss)])]),(c(!0),f(ae,null,ie(e(Le),t=>(c(),f("div",{key:t.id,class:"filter-group"},[n("div",Is,U(t.name),1),n("div",Es,[(c(!0),f(ae,null,ie(t.brands,Y=>(c(),f("button",{key:Y,type:"button",class:se(["brand-item",{active:e(F)(t.id,Y)}]),"aria-pressed":e(F)(t.id,Y),onClick:re=>e(r)(t.id,Y)},[n("span",null,U(Y),1)],10,Hs))),128))])]))),128))])],2)])):G("",!0),n("main",Ts,[n("div",{class:se(["products-topbar",{compact:e(de)}]),"aria-label":"筛选栏"},[n("div",$s,[n("h2",xs,U(((Ae=e(H))==null?void 0:Ae.name)||"全部产品"),1),n("div",_s,[n("div",qs,[s[43]||(s[43]=n("i",{class:"fas fa-search search-icon","aria-hidden":"true"},null,-1)),me(n("input",{"onUpdate:modelValue":s[12]||(s[12]=t=>Be(Q)?Q.value=t:null),class:"search-input",type:"search",inputmode:"search",placeholder:"搜索产品 / 型号 / 品牌",onInput:s[13]||(s[13]=(...t)=>e(l)&&e(l)(...t)),onKeydown:s[14]||(s[14]=Re(V(t=>e(o)(),["prevent"]),["enter"]))},null,544),[[Fe,e(Q)]]),n("button",{type:"button",class:"hot-pill","aria-pressed":e(ne),title:"热门",onClick:s[15]||(s[15]=V((...t)=>e(w)&&e(w)(...t),["stop"]))},s[40]||(s[40]=[n("i",{class:"fas fa-fire","aria-hidden":"true"},null,-1),n("span",{class:"pill-text"},"热门",-1)]),8,Ns),e($)?(c(),f("button",{key:0,type:"button",class:"filter-pill","aria-label":e(L)>0?`打开筛选（已选${e(L)}项）`:"打开筛选",onClick:s[16]||(s[16]=V((...t)=>e(Ie)&&e(Ie)(...t),["stop"]))},[s[41]||(s[41]=n("i",{class:"fas fa-sliders-h","aria-hidden":"true"},null,-1)),e(L)>0?(c(),f("span",Os,U(e(L)),1)):G("",!0)],8,Ps)):G("",!0),e(Q).trim()?(c(),f("button",{key:1,type:"button",class:"clear-search","aria-label":"清除搜索",onClick:s[17]||(s[17]=(...t)=>e(a)&&e(a)(...t))},s[42]||(s[42]=[n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]))):G("",!0)]),e(q)?(c(),f("div",{key:0,class:"hot-editor-gate",onClick:s[23]||(s[23]=V(()=>{},["stop"]))},[e(N)?(c(),f("div",Fs,[n("details",{ref_key:"hotAdminMenu",ref:b,class:"hot-admin-menu"},[s[45]||(s[45]=n("summary",{class:"hot-admin-actions"},[le(" 操作 "),n("i",{class:"fas fa-chevron-down","aria-hidden":"true"})],-1)),n("div",{class:"hot-admin-popover",onClick:s[21]||(s[21]=V(()=>{},["stop"]))},[n("button",{type:"button",class:"hot-admin-item",disabled:e(I),onClick:s[19]||(s[19]=V((...t)=>e(O)&&e(O)(...t),["stop"]))}," 恢复默认 ",8,Rs),n("button",{type:"button",class:"hot-admin-item danger",disabled:e(I),onClick:s[20]||(s[20]=V((...t)=>e(T)&&e(T)(...t),["stop"]))}," 清空热门 ",8,Bs)])],512),n("button",{type:"button",class:"hot-admin-done",disabled:e(I),onClick:s[22]||(s[22]=V((...t)=>e(g)&&e(g)(...t),["stop"]))},s[46]||(s[46]=[n("i",{class:"fas fa-check","aria-hidden":"true"},null,-1),le(" 完成 ")]),8,Ds)])):(c(),f("button",{key:0,type:"button",class:"hot-admin-enter",disabled:e(I),onClick:s[18]||(s[18]=V((...t)=>e(h)&&e(h)(...t),["stop"]))},s[44]||(s[44]=[n("i",{class:"fas fa-lock","aria-hidden":"true"},null,-1),le(" 编辑热门 ")]),8,As))])):G("",!0)])]),e(R).length>0?(c(),f("div",Ms,[e(de)?G("",!0):(c(),f("div",{key:0,class:se(["chips",{collapsed:!e(j)}])},[(c(!0),f(ae,null,ie(e(_),t=>(c(),f("button",{key:t.key,type:"button",class:"chip",title:t.title||t.label,onClick:V(Y=>t.remove(),["stop"])},[n("span",Ks,U(t.label),1),s[47]||(s[47]=n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1))],8,Ls))),128))],2)),n("div",zs,[!e(de)&&e(fe)>0?(c(),f("button",{key:0,type:"button",class:"chips-more","aria-expanded":e(j),onClick:s[24]||(s[24]=V((...t)=>e(He)&&e(He)(...t),["stop"]))},U(e(j)?"收起":`+${e(fe)}`),9,Qs)):G("",!0),e(de)?(c(),f("div",Vs," 已选"+U(e(R).length)+"项 ",1)):G("",!0),n("button",{type:"button",class:"chips-clear-icon","aria-label":"清空筛选",title:"清空筛选",onClick:s[25]||(s[25]=V((...t)=>e(m)&&e(m)(...t),["stop"]))},s[48]||(s[48]=[n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]))])])):G("",!0)],2),e(M).length===0?(c(),f("div",Gs,[n("div",Us,[s[52]||(s[52]=n("div",{class:"empty-icon","aria-hidden":"true"},[n("i",{class:"fas fa-search"})],-1)),s[53]||(s[53]=n("h3",null,"未找到产品",-1)),s[54]||(s[54]=n("p",{class:"empty-desc"},"当前筛选条件下暂无匹配结果，可尝试清除筛选或直接咨询客服获取推荐。",-1)),e(R).length>0?(c(),f("div",Ys,[(c(!0),f(ae,null,ie(e(R),t=>(c(),f("button",{key:t.key,type:"button",class:"tag-chip",title:t.title||t.label,onClick:V(Y=>t.remove(),["stop"])},[le(U(t.label)+" ",1),s[49]||(s[49]=n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1))],8,Ws))),128))])):G("",!0),n("div",js,[n("button",{type:"button",class:"empty-btn secondary",onClick:s[26]||(s[26]=(...t)=>e(Ee)&&e(Ee)(...t))},s[50]||(s[50]=[n("i",{class:"fas fa-times"},null,-1),le(" 清除筛选 ")])),n("button",{type:"button",class:"empty-btn primary",onClick:s[27]||(s[27]=t=>e(Oe)())},s[51]||(s[51]=[n("i",{class:"fas fa-comments"},null,-1),le(" 立即咨询 ")]))])])])):(c(),f("div",Xs,[(c(!0),f(ae,null,ie(e(M),t=>{var Y;return c(),f("div",{key:t.id,class:"product-card"},[n("div",{class:se(["condition-tag",t.condition])},U(e(it)(t.condition)),3),n("div",Js,[t.isHot||typeof t.hotRank=="number"?(c(),f("div",Zs,[s[55]||(s[55]=n("i",{class:"fas fa-fire","aria-hidden":"true"},null,-1)),s[56]||(s[56]=n("span",null,"热门",-1)),typeof t.hotRank=="number"?(c(),f("span",en,"#"+U(t.hotRank),1)):G("",!0)])):G("",!0),e(N)&&e(E)?(c(),f("div",{key:1,class:"hot-editor-card",onClick:s[29]||(s[29]=V(()=>{},["stop"]))},[n("label",{class:"hot-editor-switch",onClick:s[28]||(s[28]=V(()=>{},["stop"]))},[n("input",{type:"checkbox",checked:!!t.isHot,disabled:e(I),onChange:re=>e(B)(t.id,re.target.checked)},null,40,tn),s[57]||(s[57]=n("span",{class:"switch-ui","aria-hidden":"true"},null,-1)),s[58]||(s[58]=n("span",{class:"switch-label"},"热门",-1))]),n("input",{class:"hot-rank-input",type:"number",min:"1",max:"10",step:"1",inputmode:"numeric",value:typeof t.hotRank=="number"?t.hotRank:"",disabled:e(I)||!t.isHot,placeholder:"#",onInput:V(re=>e(y)(t.id,re.target.value),["stop"])},null,40,sn)])):G("",!0),Me(Tt,{src:t.image,alt:t.name,placeholder:e(Ht)(t.image)},null,8,["src","alt","placeholder"])]),n("div",nn,[n("h3",{title:t.name},U(t.name),9,on),n("p",null,U(t.description),1),(Y=t.specs)!=null&&Y.length?(c(),f("div",an,[n("div",{class:se(["specs-list",{expanded:e(ye)(t.id)}]),id:`specs-${t.id}`},[(c(!0),f(ae,null,ie(t.specs,(re,ge)=>me((c(),f("span",{key:ge,class:"spec-tag"},[(c(!0),f(ae,null,ie(e(rt)(re),(ke,ft)=>(c(),f(ae,{key:`${ge}-${ft}`},[ke.sup?(c(),f("sup",ln,U(ke.text),1)):(c(),f(ae,{key:1},[le(U(ke.text),1)],64))],64))),128))])),[[De,e(ye)(t.id)||ge<3]])),128))],10,rn),t.specs.length>3?(c(),f("button",{key:0,type:"button",class:"specs-more-btn","aria-controls":`specs-${t.id}`,"aria-expanded":e(ye)(t.id),onClick:V(re=>e(lt)(t.id),["stop"])},U(e(ye)(t.id)?"收起":`更多+${t.specs.length-3}`),9,dn)):G("",!0)])):G("",!0),s[61]||(s[61]=$t('<div class="consult-hints" aria-label="咨询获取信息" data-v-7d26ce29><span class="hint-label" data-v-7d26ce29>咨询获取：</span><span class="hint-item" data-v-7d26ce29>价格</span><span class="hint-item" data-v-7d26ce29>交期</span><span class="hint-item" data-v-7d26ce29>质保</span><span class="hint-item" data-v-7d26ce29>是否现货</span><span class="hint-item" data-v-7d26ce29>服务承诺</span></div>',1)),n("div",un,U(t.brandDisplay),1),n("div",cn,[n("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",class:"view-details-btn",onClick:s[30]||(s[30]=V(()=>{},["stop"]))},s[59]||(s[59]=[n("span",null,"查看详情",-1),n("i",{class:"fas fa-external-link-alt"},null,-1)]),8,pn),n("button",{class:"quote-btn",onClick:V(re=>e(Oe)(t),["stop"])},s[60]||(s[60]=[n("span",null,"立即咨询",-1),n("i",{class:"fas fa-comments"},null,-1)]),8,fn)])])])}),128))]))])]),Me(Nt,{show:e(dt),product:e(ut)??void 0,contextText:e(ct),onClose:e(pt)},null,8,["show","product","contextText","onClose"])])}}}),yn=_t(vn,[["__scopeId","data-v-7d26ce29"]]),gn=ze({__name:"Products",setup(u){return(k,p)=>(c(),qt(yn))}});export{gn as default};
