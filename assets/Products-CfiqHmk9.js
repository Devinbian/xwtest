import{d as Je,c as A,r as m,o as _e,w as ue,a as Xe,b as Ze,e as d,f as u,g as n,t as b,h as T,i as h,u as I,n as C,F as O,j as R,k as qe,v as et,l as tt,m as y,p as $e,q as st,s as nt,x as at,y as ot,z as it,A as lt,B as rt,C as dt,L as ut,D as ct,E as vt,G as ft,H as yt,I as pt,J as mt,K as bt,_ as ht}from"./index-sjX7ktBz.js";import{Q as gt}from"./QuoteDialog-ljwfbR6_.js";const ce=[{id:1,name:"数字万用表/源表",brands:["ADCMT","KEYSIGHT","KEITHLEY","HIOKI","FLUKE","IWATSU","RIGOL","GWINSTEK"]},{id:2,name:"电压/电流源",brands:["ADCMT","KEYSIGHT","KEITHLEY","KIKUSUI","CHROMA","RIGOL","GWINSTEK"]},{id:3,name:"超高电阻/微小电流计",brands:["ADCMT","KEYSIGHT","KEITHLEY","HIOKI"]},{id:4,name:"数字示波器",brands:["TEKTRONIX","KEYSIGHT","R&S","RIGOL"]},{id:5,name:"电气安规测试",brands:["KIKUSUI","HIOKI","GWINSTEK","TONGHUI"]},{id:6,name:"X-RAY荧光分析仪",brands:["SHIMADZU","HITACHI","FISCHER","OLYMPUS"]},{id:7,name:"镀层膜厚测试仪",brands:["FISCHER","BOWMAN","HITACHI"]},{id:8,name:"扫描电子显微镜SEM",brands:["THERMO FISHER","HITACHI","ZEISS"]},{id:9,name:"傅里叶红外显微镜",brands:["THERMO FISHER","SHIMADZU","JASCO"]},{id:10,name:"影像测试仪・三次元",brands:["NIKON","MITUTOYO","ACCRETECH","HEXAGON","GARH","OGP"]},{id:11,name:"水滴角・接触角测试仪",brands:["KRUSS","KINO","SHENTIN"]},{id:12,name:"拉伸・弯曲・疲劳试验机",brands:["SHIMADZU","INSTRON","GOTECH"]},{id:13,name:"照度・色彩・色差",brands:["KONICA MINOLTA","X-RITE","日本电色","CA"]},{id:14,name:"数据记录仪・数据采集仪",brands:["HIOKI","GRAPHTEC"]},{id:15,name:"振动・噪音测试",brands:["RION","MIROSTONE"]},{id:16,name:"环境试验箱",brands:["ESPEC","HITACHI","GWINSTEK","TOMILO"]},{id:17,name:"耗材・工具",brands:["通讯连接器"]}],kt={class:"products-page"},wt={key:0,class:"categories-menu"},It={class:"filter-content"},Ct={key:0,class:"filter-status"},St={class:"status-text"},Ht={class:"product-type-selector"},_t=["aria-pressed"],qt=["aria-pressed"],$t={class:"category-group"},Et=["aria-expanded","onClick"],Tt=["aria-pressed","onClick"],Nt={key:1,class:"filter-actions"},At={key:1,class:"mobile-filter"},Ot={class:"right-section"},Rt={key:0,class:"active-filters"},xt={key:1,class:"active-filters"},Kt={class:"menu-header"},Mt={class:"menu-content"},Lt={class:"filter-group"},Pt={class:"filter-options"},Ft=["aria-pressed"],Dt=["aria-pressed"],Gt={class:"section-title"},Bt={class:"brand-list"},Ut=["aria-pressed","onClick"],zt=["src","alt"],Qt={class:"products-content"},jt={class:"products-header"},Yt={class:"filters"},Wt={class:"search-box",role:"search","aria-label":"搜索产品"},Vt=["aria-pressed"],Jt=["disabled"],Xt={key:1,class:"hot-admin-editing"},Zt=["disabled"],es=["disabled"],ts=["disabled"],ss={key:0,class:"selected-filters-bar","aria-label":"已选筛选项"},ns={class:"chips"},as=["title","onClick"],os={class:"chip-label"},is={key:1,class:"empty-products"},ls={class:"empty-card"},rs={key:0,class:"active-tags","aria-label":"当前筛选条件"},ds=["title","onClick"],us={class:"empty-actions"},cs={key:2,class:"products-grid"},vs={class:"image-wrapper"},fs={key:0,class:"hot-tag","aria-label":"热门产品"},ys={key:0,class:"hot-rank"},ps=["checked","disabled","onChange"],ms=["value","disabled","onInput"],bs={class:"product-info"},hs=["title"],gs={key:0,class:"specs-row"},ks=["id"],ws=["innerHTML"],Is=["aria-controls","aria-expanded","onClick"],Cs={class:"product-brand"},Ss={class:"card-actions"},Hs=["href"],_s=["onClick"],W="xw:hot-editor:enabled",qs=Je({__name:"Products",setup($s){const N=ce,te=mt,l=st(),x=nt(),Ee=t=>{if(typeof window>"u")return null;try{return window.localStorage.getItem(t)}catch{return null}},V=(t,e)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(t,e)}catch{}},ve=A(()=>{const t=l.query.__hot,e=Array.isArray(t)?t[0]:t;return e==="1"||e==="true"||e==="on"}),fe=A(()=>{const t=l.query.__token,e=Array.isArray(t)?t[0]:t;return typeof e=="string"?e.trim():""}),L=m(!1),$=m(!1),E=m({overrides:{},disableAllHot:!1}),_=m(!1),P=m(!1),ye=m(null),Te=A(()=>pt(te,E.value.overrides,E.value.disableAllHot)),pe=async()=>{const t=await at();E.value={overrides:t.overrides??{},disableAllHot:t.disableAllHot===!0}},B=async()=>{P.value=await ot(),!P.value&&$.value&&($.value=!1,V(W,"0"))},se=async t=>{const e=String(t??"").trim()||String(window.prompt("请输入热门编辑口令（服务器端 HOT_EDITOR_TOKEN）")??"").trim();return e?(await it(e),await B(),P.value):!1},Ne=async()=>{await bt(),await B(),$.value=!1,V(W,"0")},ne=()=>{var t;(t=ye.value)==null||t.removeAttribute("open")},Ae=async()=>{_.value||!await B().then(()=>P.value)&&!await se()||($.value=!0,V(W,"1"))},Oe=async()=>{ne(),$.value=!1,V(W,"0"),await Ne()},U=async t=>{if(!_.value&&!(!P.value&&!await se())){E.value=t,_.value=!0;try{await ft(t),yt()}catch(e){await pe(),String((e==null?void 0:e.message)??e)==="unauthorized"?(await B(),window.alert("热门编辑口令不正确或未配置，保存失败。")):window.alert("保存热门配置失败，请稍后重试。")}finally{_.value=!1}}},Re=()=>{ne(),U({overrides:{},disableAllHot:!1})},xe=()=>{ne(),window.confirm("确认清空所有热门标记？（将覆盖代码默认热门）")&&U({overrides:{},disableAllHot:!0})},Ke=(t,e)=>{const a=String(t),s={...E.value.overrides},o=s[a]??{};if(e){const{hotRank:r}=o;s[a]={...o,isHot:!0},typeof r=="number"?s[a].hotRank=r:r===null&&delete s[a].hotRank}else s[a]={isHot:!1};U({...E.value,overrides:s})},Me=(t,e)=>{const a=String(t),s=String(e??"").trim(),o=s?Number.parseInt(s,10):NaN,r=Number.isFinite(o)?Math.trunc(o):void 0,c={...E.value.overrides};if(!s){const i=c[a]??{};c[a]={...i,isHot:!0,hotRank:null},U({...E.value,overrides:c});return}if(!(!r||r<1||r>10)){for(const i of te)if(i.id!==t&&i.hotRank===r){const v=String(i.id);c[v]={...c[v]??{},hotRank:null}}for(const[i,v]of Object.entries(c))i!==a&&typeof(v==null?void 0:v.hotRank)=="number"&&v.hotRank===r&&(c[i]={...v??{},hotRank:null});c[a]={...c[a]??{},isHot:!0,hotRank:r},U({...E.value,overrides:c})}},me=t=>{var a;const e=t.trim().toLowerCase();if(!e)return null;for(const s of N){const o=(a=s.brands)==null?void 0:a.find(r=>String(r).trim().toLowerCase()===e);if(o)return{categoryId:s.id,brand:o}}return null},Le=t=>{var s;const e=new Set,a=[];for(const o of t){const r=String(o.brand??"").trim();if(!r)continue;let c=o.categoryId,i=r;const v=Number.isFinite(c)?N.find(w=>w.id===c):void 0;if(v){const w=((s=v.brands)==null?void 0:s.find(H=>String(H).trim().toLowerCase()===i.toLowerCase()))??null;if(w)i=w;else{const H=me(i);if(H)c=H.categoryId,i=H.brand;else continue}}else{const w=me(i);if(w)c=w.categoryId,i=w.brand;else continue}if(!Number.isFinite(c))continue;const k=`${c}:${i}`;e.has(k)||(e.add(k),a.push({categoryId:c,brand:i}))}return a},Pe=t=>typeof t!="string"||!t.trim()?[]:t.split(",").map(e=>e.trim()).filter(Boolean).map(e=>{const a=e.indexOf(":");if(a===-1)return{categoryId:Number.NaN,brand:e};const s=e.slice(0,a),o=e.slice(a+1);return{categoryId:Number(s),brand:o}}),Fe=t=>t.filter(e=>Number.isFinite(e.categoryId)&&!!String(e.brand??"").trim()).map(e=>`${e.categoryId}:${String(e.brand).trim()}`).join(","),K=()=>{const t=Le(Pe(l.query.brands)),e=l.query.hot,a=Array.isArray(e)?e[0]:e;return{categories:(l.query.categories||"").split(",").filter(Boolean),brands:t,newProduct:l.query.id||"",type:l.query.type||"",q:l.query.q||"",hotOnly:a==="1"||a==="true"||a==="on"}},be=()=>{const t=K();g.value=t.categories,f.value=t.brands,p.value=t.newProduct,he.value=t.type,S.value=t.q,q.value=t.hotOnly;const e=typeof l.query.brands=="string"?l.query.brands:"",a=Fe(t.brands);if((e||"")!==(a||"")){const s={...l.query};a?s.brands=a:delete s.brands,x.replace({query:s})}},g=m(K().categories),f=m(K().brands),p=m(K().newProduct),he=m(K().type),S=m(K().q),q=m(K().hotOnly);let z=null;const De=A(()=>N.find(t=>t.id===Number(l.query.category))),F=A(()=>{let t=[...Te.value];if(l.query.type){const a=l.query.type;t=t.filter(s=>s.type===a)}if(g.value.length>0&&(t=t.filter(a=>g.value.includes(String(a.categoryId)))),f.value.length>0&&(t=t.filter(a=>f.value.some(s=>s.categoryId===a.categoryId&&s.brand===a.brand))),l.query.brand){const a=l.query.brand;t=t.filter(s=>s.brandDisplay===a||s.brand===a)}if(p.value){const a=Number(p.value);t=t.filter(s=>s.id===a)}const e=S.value.trim().toLowerCase();return e&&(t=t.filter(a=>{var r;const s=((r=N.find(c=>c.id===a.categoryId))==null?void 0:r.name)??"";return[a.name,a.brandDisplay,a.brand,a.description,s,...a.specs??[]].filter(Boolean).join(" ").toLowerCase().includes(e)})),q.value&&(t=t.filter(a=>!!a.isHot||typeof a.hotRank=="number")),t}),ae=()=>{const t=S.value.trim(),e={...l.query};t?e.q=t:delete e.q,e.id&&delete e.id,p.value="",x.replace({query:e})},Ge=()=>{z&&window.clearTimeout(z),z=window.setTimeout(()=>{ae()},240)},ge=()=>{S.value="",ae()},Be=()=>{q.value=!q.value,l.query.id&&(p.value=""),M()},oe=m(!1),D=m(!1),ie=()=>{oe.value=window.innerWidth<=768};_e(()=>{ie(),window.addEventListener("resize",ie),be(),B(),pe(),L.value=ve.value,$.value=L.value&&Ee(W)==="1",L.value&&fe.value&&se(fe.value).finally(()=>{const t={...l.query};delete t.__token,x.replace({query:t})})}),ue(ve,t=>{L.value=t,t||($.value=!1)});const le=t=>g.value.includes(String(t)),ke=t=>{p.value="";const e=String(t),a=g.value.indexOf(e);a===-1?g.value.push(e):g.value.splice(a,1),M()},we=(t,e)=>{if(p.value="",!Number.isFinite(t)){f.value=f.value.filter(s=>s.brand!==e),M();return}const a=f.value.findIndex(s=>s.categoryId===t&&s.brand===e);a===-1?f.value.push({categoryId:t,brand:e}):f.value.splice(a,1),M()},J=(t,e)=>Number.isFinite(t)?f.value.some(a=>a.categoryId===t&&a.brand===e):f.value.some(a=>a.brand===e&&!Number.isFinite(a.categoryId));ue(()=>l.query,()=>{l.query.id||(p.value=""),be()},{immediate:!0});const Q=t=>{const e={...l.query};l.query.type===t?delete e.type:(e.type=t,delete e.id),x.push({query:e}),p.value=""},G=A(()=>{let t=0;return l.query.type&&(t+=1),l.query.brand&&(t+=1),q.value&&(t+=1),S.value.trim()&&(t+=1),t+=g.value.length,t+=f.value.length,p.value&&(t+=1),t}),j=()=>{he.value="",f.value=[],g.value=[],p.value="",S.value="",q.value=!1,x.push({name:"products",query:L.value?{__hot:"1"}:{}})},Ue=()=>{D.value=!1,j()},ze=t=>{const e={...l.query};delete e[t],x.replace({query:e})},X=A(()=>{const t=[],e=new Set(f.value.filter(i=>Number.isFinite(i.categoryId)&&!!i.brand).map(i=>String(i.categoryId))),a=l.query.type;(a==="new"||a==="used")&&t.push({key:`type:${a}`,label:`类型：${Se(a)}`,remove:()=>Q(a)});const s=l.query.brand;s&&t.push({key:`brandJump:${s}`,label:`全分类品牌：${s}`,remove:()=>ze("brand")});const o=S.value.trim();o&&t.push({key:`q:${o}`,label:`搜索：${o}`,remove:()=>ge()}),q.value&&t.push({key:"hot:1",label:"热门",remove:()=>{q.value=!1,M()}});for(const i of g.value){if(e.has(String(i)))continue;const v=N.find(k=>String(k.id)===String(i));t.push({key:`cat:${i}`,label:v?`分类：${v.name}`:`分类：${i}`,remove:()=>ke(Number(i))})}const r=new Map;for(const i of f.value){if(!Number.isFinite(i.categoryId)||!i.brand)continue;const v=r.get(i.categoryId)??[];v.push(i.brand),r.set(i.categoryId,v)}for(const[i,v]of r.entries()){const k=N.find(de=>de.id===i),w=(k==null?void 0:k.name)??`分类${i}`,H=Array.from(new Set(v)),Ve=H.length<=1?`品牌：${w} / ${H[0]}`:`品牌：${w} / ${H[0]} +${H.length-1}`;t.push({key:`brandGroup:${i}`,label:Ve,title:`品牌：${w} / ${H.join("、")}`,remove:()=>{f.value=f.value.filter(de=>de.categoryId!==i),M()}})}if(p.value){const i=p.value,v=te.find(k=>String(k.id)===String(i));t.push({key:`id:${i}`,label:v?`产品：${v.name}`:`ID：${i}`,remove:()=>{p.value="",M()}})}const c=new Map;for(const i of t)c.set(i.key,i);return Array.from(c.values())}),Ie=t=>({new:"全新",used:"二手",refurbished:"翻新",sale:"促销",discount:"50%"})[t]||"未知",Ce=async()=>{const t=F.value.map(e=>e.image);await Promise.all(t.map(e=>lt(e)))};ue(F,()=>{Ce()}),_e(()=>{Ce()});const M=()=>{const t={};g.value.length>0&&(t.categories=g.value.join(",")),f.value.length>0&&(t.brands=f.value.filter(a=>Number.isFinite(a.categoryId)&&!!a.brand).map(a=>`${a.categoryId}:${a.brand}`).join(",")),p.value&&(t.id=p.value),l.query.type&&(t.type=l.query.type),l.query.brand&&(t.brand=l.query.brand),l.query.__hot&&(t.__hot=String(l.query.__hot)),q.value&&(t.hot="1");const e=S.value.trim();e&&(t.q=e),x.replace({query:t})};Xe(()=>{z&&window.clearTimeout(z),window.removeEventListener("resize",ie)});const Qe=t=>t.includes("<sup>")?t:t.replace(/(\d+)×10(\d+)/g,"$1×10<sup>$2</sup>"),re=m(!1),Y=m(null),Z=Ze(new Set),ee=t=>Z.has(t),je=t=>{if(Z.has(t)){Z.delete(t);return}Z.add(t)};function Se(t){return t==="new"?"产品":t==="used"?"中古品":"全部"}const Ye=A(()=>{const t=[];if(t.push("【产品信息】"),Y.value){const o=Y.value;t.push(`名称：${o.name}`),t.push(`品牌：${o.brandDisplay||o.brand}`),t.push(`成色：${Ie(o.condition)}`),o.link&&t.push(`详情链接：${o.link}`)}else t.push("未指定（请补充型号/参数/用途）");t.push(""),t.push("【当前筛选】"),t.push(`类型：${Se(l.query.type)}`);const e=g.value.map(o=>{var r;return(r=N.find(c=>c.id===Number(o)))==null?void 0:r.name}).filter(Boolean);t.push(`分类：${e.length?e.join("、"):"全部"}`);const a=new Map;for(const o of f.value){const r=a.get(o.categoryId)??[];r.push(o.brand),a.set(o.categoryId,r)}const s=Array.from(a.entries()).map(([o,r])=>{var v;const c=((v=N.find(k=>k.id===o))==null?void 0:v.name)??`分类${o}`,i=Array.from(new Set(r));return`${c}：${i.join("、")}`});t.push(`品牌：${s.length?s.join("；"):"全部"}`),l.query.brand&&t.push(`品牌跳转：${l.query.brand}`),F.value.length&&t.push(`当前列表数量：${F.value.length}`),t.push(""),t.push("【咨询内容】价格 / 交期 / 质保 / 是否现货 / 服务承诺");try{t.push(""),t.push(`页面：${window.location.href}`)}catch{}return t.join(`
`)}),He=t=>{Y.value=t??null,re.value=!0},We=()=>{re.value=!1,Y.value=null};return(t,e)=>{var a;return d(),u("div",null,[n("div",kt,[oe.value?h("",!0):(d(),u("aside",wt,[n("div",It,[G.value>0?(d(),u("div",Ct,[n("span",St,"已选"+b(G.value)+"项",1),n("button",{class:"clear-all-btn",onClick:j},e[15]||(e[15]=[n("i",{class:"fas fa-times"},null,-1),T(" 清除全部 ")]))])):h("",!0),n("div",Ht,[n("button",{type:"button",class:C(["type-btn",{active:I(l).query.type==="new"}]),"aria-pressed":I(l).query.type==="new",onClick:e[0]||(e[0]=s=>Q("new"))}," 产品 ",10,_t),n("button",{type:"button",class:C(["type-btn",{active:I(l).query.type==="used"}]),"aria-pressed":I(l).query.type==="used",onClick:e[1]||(e[1]=s=>Q("used"))}," 中古品 ",10,qt)]),n("div",$t,[(d(!0),u(O,null,R(I(ce),s=>(d(),u("div",{key:s.id,class:"category-item"},[n("button",{type:"button",class:"category-header","aria-expanded":le(s.id),onClick:o=>ke(s.id)},[n("span",null,b(s.name),1),n("i",{class:C(["fas",le(s.id)?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,Et),n("div",{class:C(["brands-list",{active:le(s.id)}])},[(d(!0),u(O,null,R(s.brands,o=>(d(),u("button",{key:o,type:"button",class:C(["brand-link",{active:J(s.id,o)}]),"aria-pressed":J(s.id,o),onClick:r=>we(s.id,o)},b(o),11,Tt))),128))],2)]))),128))]),G.value>0?(d(),u("div",Nt,[n("button",{class:"clear-btn",onClick:j}," 清除筛选 ")])):h("",!0)])])),oe.value?(d(),u("div",At,[n("div",{class:C(["menu-overlay",{active:D.value}]),onClick:e[2]||(e[2]=s=>D.value=!1)},null,2),n("button",{class:"filter-btn",onClick:e[3]||(e[3]=s=>D.value=!0)},[e[17]||(e[17]=n("div",{class:"left-section"},[n("i",{class:"fas fa-sliders-h"}),n("span",null,"筛选")],-1)),n("div",Ot,[G.value>0?(d(),u("span",Rt," 已选"+b(G.value)+"项 ",1)):(d(),u("span",xt," 全部商品 ")),e[16]||(e[16]=n("i",{class:"fas fa-chevron-right"},null,-1))])]),n("div",{class:C(["filter-menu",{active:D.value}])},[n("div",Kt,[e[20]||(e[20]=n("h3",null,"筛选条件",-1)),G.value>0?(d(),u("button",{key:0,class:"clear-filters-btn",onClick:j},e[18]||(e[18]=[n("i",{class:"fas fa-times"},null,-1),T(" 清除筛选 ")]))):h("",!0),n("button",{class:"close-btn",onClick:e[4]||(e[4]=s=>D.value=!1)},e[19]||(e[19]=[n("i",{class:"fas fa-times"},null,-1)]))]),n("div",Mt,[n("div",Lt,[e[21]||(e[21]=n("h3",null,"产品类型",-1)),n("div",Pt,[n("button",{type:"button",class:C(["filter-btn",{active:I(l).query.type==="new"}]),"aria-pressed":I(l).query.type==="new",onClick:e[5]||(e[5]=s=>Q("new"))}," 产品 ",10,Ft),n("button",{type:"button",class:C(["filter-btn",{active:I(l).query.type==="used"}]),"aria-pressed":I(l).query.type==="used",onClick:e[6]||(e[6]=s=>Q("used"))}," 中古品 ",10,Dt)])]),(d(!0),u(O,null,R(I(ce),s=>(d(),u("div",{key:s.id,class:"filter-group"},[n("div",Gt,b(s.name),1),n("div",Bt,[(d(!0),u(O,null,R(s.brands,o=>(d(),u("button",{key:o,type:"button",class:C(["brand-item",{active:J(s.id,o)}]),"aria-pressed":J(s.id,o),onClick:r=>we(s.id,o)},[n("img",{src:I(rt)(`/images/brands/${o.toLowerCase()}/logo.png`),alt:o,loading:"lazy",decoding:"async"},null,8,zt),n("span",null,b(o),1)],10,Ut))),128))])]))),128))])],2)])):h("",!0),n("main",Qt,[n("div",jt,[n("h2",null,b(((a=De.value)==null?void 0:a.name)||"全部产品"),1),n("div",Yt,[n("div",Wt,[e[23]||(e[23]=n("i",{class:"fas fa-search search-icon","aria-hidden":"true"},null,-1)),qe(n("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>S.value=s),class:"search-input",type:"search",inputmode:"search",placeholder:"搜索产品 / 型号 / 品牌",onInput:Ge,onKeydown:e[8]||(e[8]=tt(y(s=>ae(),["prevent"]),["enter"]))},null,544),[[et,S.value]]),S.value.trim()?(d(),u("button",{key:0,type:"button",class:"clear-search","aria-label":"清除搜索",onClick:ge},e[22]||(e[22]=[n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1)]))):h("",!0)]),n("button",{type:"button",class:"hot-only-toggle","aria-pressed":q.value,onClick:y(Be,["stop"])},e[24]||(e[24]=[n("i",{class:"fas fa-fire","aria-hidden":"true"},null,-1),T(" 热门 ")]),8,Vt),L.value?(d(),u("div",{key:0,class:"hot-editor-gate",onClick:e[10]||(e[10]=y(()=>{},["stop"]))},[$.value?(d(),u("div",Xt,[n("details",{ref_key:"hotAdminMenu",ref:ye,class:"hot-admin-menu"},[e[26]||(e[26]=n("summary",{class:"hot-admin-actions"},[T(" 操作 "),n("i",{class:"fas fa-chevron-down","aria-hidden":"true"})],-1)),n("div",{class:"hot-admin-popover",onClick:e[9]||(e[9]=y(()=>{},["stop"]))},[n("button",{type:"button",class:"hot-admin-item",disabled:_.value,onClick:y(Re,["stop"])}," 恢复默认 ",8,Zt),n("button",{type:"button",class:"hot-admin-item danger",disabled:_.value,onClick:y(xe,["stop"])}," 清空热门 ",8,es)])],512),n("button",{type:"button",class:"hot-admin-done",disabled:_.value,onClick:y(Oe,["stop"])},e[27]||(e[27]=[n("i",{class:"fas fa-check","aria-hidden":"true"},null,-1),T(" 完成 ")]),8,ts)])):(d(),u("button",{key:0,type:"button",class:"hot-admin-enter",disabled:_.value,onClick:y(Ae,["stop"])},e[25]||(e[25]=[n("i",{class:"fas fa-lock","aria-hidden":"true"},null,-1),T(" 编辑热门 ")]),8,Jt))])):h("",!0)])]),X.value.length>0?(d(),u("div",ss,[n("div",ns,[(d(!0),u(O,null,R(X.value,s=>(d(),u("button",{key:s.key,type:"button",class:"chip",title:s.title||s.label,onClick:y(o=>s.remove(),["stop"])},[n("span",os,b(s.label),1),e[28]||(e[28]=n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1))],8,as))),128))]),n("button",{type:"button",class:"chips-clear",onClick:y(j,["stop"])}," 清空 ")])):h("",!0),F.value.length===0?(d(),u("div",is,[n("div",ls,[e[32]||(e[32]=n("div",{class:"empty-icon","aria-hidden":"true"},[n("i",{class:"fas fa-search"})],-1)),e[33]||(e[33]=n("h3",null,"未找到产品",-1)),e[34]||(e[34]=n("p",{class:"empty-desc"},"当前筛选条件下暂无匹配结果，可尝试清除筛选或直接咨询客服获取推荐。",-1)),X.value.length>0?(d(),u("div",rs,[(d(!0),u(O,null,R(X.value,s=>(d(),u("button",{key:s.key,type:"button",class:"tag-chip",title:s.title||s.label,onClick:y(o=>s.remove(),["stop"])},[T(b(s.label)+" ",1),e[29]||(e[29]=n("i",{class:"fas fa-times","aria-hidden":"true"},null,-1))],8,ds))),128))])):h("",!0),n("div",us,[n("button",{type:"button",class:"empty-btn secondary",onClick:Ue},e[30]||(e[30]=[n("i",{class:"fas fa-times"},null,-1),T(" 清除筛选 ")])),n("button",{type:"button",class:"empty-btn primary",onClick:e[11]||(e[11]=s=>He())},e[31]||(e[31]=[n("i",{class:"fas fa-comments"},null,-1),T(" 立即咨询 ")]))])])])):(d(),u("div",cs,[(d(!0),u(O,null,R(F.value,s=>{var o;return d(),u("div",{key:s.id,class:"product-card"},[n("div",{class:C(["condition-tag",s.condition])},b(Ie(s.condition)),3),n("div",vs,[s.isHot||typeof s.hotRank=="number"?(d(),u("div",fs,[e[35]||(e[35]=n("i",{class:"fas fa-fire","aria-hidden":"true"},null,-1)),e[36]||(e[36]=n("span",null,"热门",-1)),typeof s.hotRank=="number"?(d(),u("span",ys,"#"+b(s.hotRank),1)):h("",!0)])):h("",!0),$.value&&P.value?(d(),u("div",{key:1,class:"hot-editor-card",onClick:e[13]||(e[13]=y(()=>{},["stop"]))},[n("label",{class:"hot-editor-switch",onClick:e[12]||(e[12]=y(()=>{},["stop"]))},[n("input",{type:"checkbox",checked:!!s.isHot,disabled:_.value,onChange:r=>Ke(s.id,r.target.checked)},null,40,ps),e[37]||(e[37]=n("span",{class:"switch-ui","aria-hidden":"true"},null,-1)),e[38]||(e[38]=n("span",{class:"switch-label"},"热门",-1))]),n("input",{class:"hot-rank-input",type:"number",min:"1",max:"10",step:"1",inputmode:"numeric",value:typeof s.hotRank=="number"?s.hotRank:"",disabled:_.value||!s.isHot,placeholder:"#",onInput:y(r=>Me(s.id,r.target.value),["stop"])},null,40,ms)])):h("",!0),$e(ut,{src:s.image,alt:s.name,placeholder:I(dt)(s.image)},null,8,["src","alt","placeholder"])]),n("div",bs,[n("h3",{title:s.name},b(s.name),9,hs),n("p",null,b(s.description),1),(o=s.specs)!=null&&o.length?(d(),u("div",gs,[n("div",{class:C(["specs-list",{expanded:ee(s.id)}]),id:`specs-${s.id}`},[(d(!0),u(O,null,R(s.specs,(r,c)=>qe((d(),u("span",{key:c,class:"spec-tag",innerHTML:Qe(r)},null,8,ws)),[[ct,ee(s.id)||c<3]])),128))],10,ks),s.specs.length>3?(d(),u("button",{key:0,type:"button",class:"specs-more-btn","aria-controls":`specs-${s.id}`,"aria-expanded":ee(s.id),onClick:y(r=>je(s.id),["stop"])},b(ee(s.id)?"收起":`更多+${s.specs.length-3}`),9,Is)):h("",!0)])):h("",!0),e[41]||(e[41]=vt('<div class="consult-hints" aria-label="咨询获取信息" data-v-cb2bda7d><span class="hint-label" data-v-cb2bda7d>咨询获取：</span><span class="hint-item" data-v-cb2bda7d>价格</span><span class="hint-item" data-v-cb2bda7d>交期</span><span class="hint-item" data-v-cb2bda7d>质保</span><span class="hint-item" data-v-cb2bda7d>是否现货</span><span class="hint-item" data-v-cb2bda7d>服务承诺</span></div>',1)),n("div",Cs,b(s.brandDisplay),1),n("div",Ss,[n("a",{href:s.link,target:"_blank",class:"view-details-btn",onClick:e[14]||(e[14]=y(()=>{},["stop"]))},e[39]||(e[39]=[n("span",null,"查看详情",-1),n("i",{class:"fas fa-external-link-alt"},null,-1)]),8,Hs),n("button",{class:"quote-btn",onClick:y(r=>He(s),["stop"])},e[40]||(e[40]=[n("span",null,"立即咨询",-1),n("i",{class:"fas fa-comments"},null,-1)]),8,_s)])])])}),128))]))])]),$e(gt,{show:re.value,product:Y.value,contextText:Ye.value,onClose:We},null,8,["show","product","contextText"])])}}}),Ns=ht(qs,[["__scopeId","data-v-cb2bda7d"]]);export{Ns as default};
